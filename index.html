<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	</head>

	<body>
		<div id="app">
			<span class="@class">12312312312</span>
			
			<span class="test">123</span>
			<span class="test">456</span>
		</div>
		<script type="text/javascript">
//			$('.test').on('click',function(){
//				alert('1');
//			});
//			
//			$('.test').on('click',function(){
//				alert('2');
//			});
		</script>
		
		<button type="button" class="@add" value="1">添加1</button>
		<button type="button" class="@add" value="2">添加2</button>
		<script id="temp" type="text/template">
			{{ var aaa = 1234; var bb = 123;}}
				<div class="{{= aaa }} @class">event</div>
			{{ for(var i = 0;i<data.length;i++){ }}
				<div class='{{= i + 2 + 120 + 123 }} name'>
					123
					{{if(i != undefined){}}
						<span>
							{{= data[i] }}
						</span>
					{{ } }}
					{{ if(data[i] == 'a'){ }}
						<div>{{= i + '123465789' }}</div>
					{{ }else{ }}
						456
					{{ } }}
					{{for(var a = 0;a<5;a++){}}
						<div>{{= a}}</div>
					{{ } }}
				</div>
				<div>					
					{{= data[i] }} - {{= (function(){return 1+3})()}}
				</div>
				<div>					
					{{= data[i] }} - 2
				</div>
				<div>
					{{= data[i] }} - 3
				</div>
				<div>					
					{{= data[i] }} - 4
				</div>
				<div>					
					{{= data[i] }} - 5
				</div>
			{{}}}
		</script>
		
		<script src="js/tmlp.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			
			var app = new Tmpl({
				el:"#temp",
				open_tag:"{{",
				close_tag:'}}',
				methods:{
					add:function(event,el){
						el.setAttribute('value',++el.value);
						var arr = [];
						for(var i = 0;i<500;i++){
							arr.push(Math.random());
						}
						this.appendTo("#app", arr ,function(){
							
						});
					}
				},
				ready:function(){
					this.on('@add','click',this.add);
				}
			});
			
			
			
		</script>
	</body>

</html>
<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
	</head>

	<body>
		<div id="app">
			<span class="@class">12312312312</span>
			<span class="test @add-d">123</span>
			<span class="test">456</span>
		</div>
		
		<button type="button" class="@add" value="1">添加1</button>
		<button type="button" class="@add1" value="2">添加2</button>
		<script src="http://libs.baidu.com/jquery/2.0.0/jquery.js"></script>
		<script id="temp" type="text/template">
			{{ var aaa = 1234; var bb = 123;}}
				<div class="{{= aaa }} @class @mouse">event</div>
			{{ for(var i = 0;i<data.length;i++){ }}
				<div class='{{= i + 2 + 120 + 123 }} name'>
					123
					{{if(i != undefined){}}
						<span>
							{{= data[i] }}
						</span>
					{{ } }}
					{{ if(data[i] == 'a'){ }}
						<div>{{= i + '123465789' }}</div>
					{{ }else{ }}
						456
					{{ } }}
					{{for(var a = 0;a<5;a++){}}
						<div>{{= a}}</div>
					{{ } }}
				</div>
				<div>					
					{{= data[i] }} - {{= (function(){return 1+3})()}}
				</div>
				<div>					
					{{= data[i] }} - 2
				</div>
				<div>
					{{= data[i] }} - 3
				</div>
				<div>					
					{{= data[i] }} - 4
				</div>
				<div>					
					{{= data[i] }} - 5
				</div>
			{{}}}
		</script>
		
		<script src="src/js/tmlp.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			
			var app = new Tmpl({
				el:"#temp",
				open_tag:"{{",
				close_tag:'}}',
				methods:{
					add:function(event,el){
						el.setAttribute('value',++el.value);
						var arr = [];
						for(var i = 0;i<50;i++){
							arr.push(Math.random());
						}
						this.appendTo("#app", arr ,function(){
							console.log('success');
						});
						this.unbind(el,'@add');
						setTimeout(function(){
							this.bind(el,'@add');	
						}.bind(this),2000);
					},
					mouse : function(){
						console.log('mouse');
					}
				},
				events:function(){
					this.on('@add','click',this.add);
					this.on('@add','click',this.add);
					this.on('@add1','click',this.add);
					this.on('@add1','mouseover',this.add);
					this.on('@mouse','mouseover',this.mouse);
					this.on('@class','click',this.mouse);
					this.on('@add-d','dblclick',this.mouse);
				}
			});
			
			
			
		</script>
	</body>

</html>
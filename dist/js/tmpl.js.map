{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 88f0ab6557ce558d0ded","webpack:///./src/tmpl/fn.js","webpack:///./src/tmpl/in_browser.js","webpack:///./src/tmpl/tmpl-regexp.js","webpack:///./src/tmpl/tmpl-render.js","webpack:///./src/tmpl/escapeCode.js","webpack:///./src/tmpl/fs.js","webpack:///./src/tmpl/set.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/tmpl/compatibility.js","webpack:///./src/tmpl/tmpl.js","webpack:///./src/index.js","webpack:///./src/tmpl/block.js","webpack:///./src/tmpl/config.js","webpack:///./src/tmpl/dom.js","webpack:///./src/tmpl/include.js","webpack:///./src/tmpl/init.js","webpack:///./src/tmpl/render.js","webpack:///./src/tmpl/router.js"],"names":["Fn","array","Array","length","obj","Object","fn","string","num","isNaN","el","nodeType","cb","i","len","isArr","hasOwnProperty","options","each","option","key","context","args","isFn","apply","arr","newArray","item","index","indexOf","push","newArr","isObj","JSON","parse","stringify","xhr","XMLHttpRequest","type","toUpperCase","timeout","async","open","url","serialize","data","setRequestHeader","contentType","addEventListener","responseText","e","readyState","status","success","error","send","result","val","encodeURIComponent","substring","expr","tm","tmItem","replace","RegExp","prototype","on","document","attachEvent","off","removeEventListener","detachEvent","inBrowser","window","FILTER_TRANFORM","FILTER_SCRIPT","SCRIPT_TAG","QUEST","INCLUDE_ID","INCLUDE_FILE","INCLUDE_ERROR","BLOCK","BLOCK_APPEND","BLOCK_INSETR","EXTEND","setRegExp","render","replaceAlias","SCRIPT_REGEXP","NATIVE_SCRIPT","ECHO_SCRIPT_REGEXP","ECHO_ESCAPE_REGEXP","REPLACE_ECHO_SCRIPT_OPEN_TAG","ECHO_ESCAPE_REGEXP_OPEN_TAG","OPEN_TAG_REGEXP","CLOSE_TAG_REGEXP","open_tag","initRegExp","config","close_tag","call","clearBlock","script","template","match","replaceScript","setSeize","echoString","split","domString","longString","_echoString","filterTransferredMeaning","_string","lastIndex","test","_longString","isStr","dom","join","constructor","alias","scriptTags","filterScriptTag","splitScriptTag","escapeCode","fs","__non_webpack_require__","setEvent","setInstance","setEl","_event_","eventEl","get","_get","getEl","innerHTML","module","exports","webpackPolyfill","deprecate","paths","children","defineProperty","enumerable","l","getElementsByClassName","className","getElementsByTagName","elements","child","classNames","j","Tmpl","opts","extend","copy","init","tmpl","escapeVal","install","domStr","console","log","global","factory","demand","define","version","replaceBlock","baseFile","unique","baseFileName","toString","blockTmpl","layoutTmpl","readFileSync","encoding","layoutTmplFindBlock","layoutTmplFindBlockStr","baseBlockName","name","block","hasBlock","blocktmpl","_index","_name","$2","blockContent","$3","methods","bindFn","_className","__className","findIndex","splice","setEntrust","ele","event","ev","target","srcElement","eventType","events","_eventType","bind","hasClass","Dom","exp","querySelector","getElementById","querySelectorAll","getEls","arguments","eventIndex","hasClassName","hasLen","attr","_attr","setAttribute","removeAttribute","attrs","Function","getAttribute","prop","_prop","html","undefined","value","text","textContent","parent","parentNode","hasClassParent","parents","els","childNodes","hasClassChild","childrens","nextEl","nextSibling","next","siblings","prevEl","previousSibling","prev","time","opacity","css","isNum","animate","style","display","opactiy","hide","show","timer","setInterval","animateStatus","speed","cssVal","Number","Math","ceil","documentElement","scrollTop","body","maxScrollTop","scrollHeight","innerHeight","parseInt","floor","setVal","setScrollTop","clearInterval","curCss","setStyle","isCameCase","camelCases","AZ","_AZ","str","toLowerCase","_css","getComputedStyle","camelCase","currentStyle","cssName","remove","removeChild","warn","fragment","createDocumentFragment","tempEl","createElement","childHtml","tagName","newScript","attributes","appendChild","stopPropagation","cancelBubble","box","getBoundingClientRect","docElem","win","clientTop","clientLeft","pageYOffset","scrollLeft","pageXOffset","top","left","replaceInclude","include","includeTmpl","includeId","trimArr","id","replaceIncludeRegExp","run","create","created","mounted","Render","ex","insertBefore","setRouter","checkRouterStatus","router","changeRoutereStatus"],"mappings":"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","file":"js/tmpl.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Tmpl\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Tmpl\"] = factory();\n\telse\n\t\troot[\"Tmpl\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 88f0ab6557ce558d0ded","//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n/*常用的方法*/\r\nclass Fn {\r\n    isArr(array) {\r\n        return array instanceof Array || !!(array && array.length);\r\n    }\r\n\r\n    isObj(obj) {\r\n        return obj instanceof Object && !(obj instanceof Array) && obj !== null;\r\n    }\r\n\r\n    isFn(fn) {\r\n        return typeof fn === 'function';\r\n    }\r\n    isStr(string) {\r\n        return typeof string === 'string';\r\n    }\r\n\r\n    isNum(num) {\r\n        return typeof num === 'number' || !isNaN(num);\r\n    }\r\n\r\n    isEl(el) {\r\n        return !!(el && el.nodeType);\r\n    }\r\n\r\n    each(obj, cb) { //遍历\r\n        let i = 0,\r\n            len = obj.length;\r\n        if(this.isArr(obj)) {\r\n            for(; i < len; i++) {\r\n                cb(obj[i], i);\r\n            }\r\n        } else {\r\n            for(i in obj) {\r\n                if(obj.hasOwnProperty(i)) cb(obj[i], i);\r\n            }\r\n        }\r\n    }\r\n    \r\n    extend(obj, options) { //合并\r\n        this.each(options, (option, key) => {\r\n            obj[key] = option;\r\n        });\r\n        return obj;\r\n    }\r\n\r\n    cb(cb, context, args) { //回调\r\n        args = args ? args : [];\r\n        this.isFn(cb) ? (cb.apply(context, args)) : null;\r\n    }\r\n\r\n    run(cb, context, args) { //执行函数\r\n        this.cb(cb, context, args);\r\n    }\r\n\r\n    unique(arr) { /*去重*/\r\n        if(!this.isArr(arr)) return [];\r\n        let newArray = [];\r\n        this.each(arr, (item, index) => {\r\n            if(newArray.indexOf(item) === -1) {\r\n                newArray.push(item);\r\n            }\r\n        });\r\n        return newArray;\r\n    }\r\n\r\n    trimArr(arr) { /*清空数组中空的值*/\r\n        let newArr = [];\r\n        this.each(arr, (item, index) => {\r\n            if(item !== '') {\r\n                newArr.push(item);\r\n            }\r\n        });\r\n        return newArr;\r\n    }\r\n\r\n    copy(obj) { /*深拷贝*/\r\n        if(this.isObj(obj) || this.isArr(obj))\r\n            return JSON.parse(JSON.stringify(obj));\r\n        return null;\r\n    }\r\n\r\n    ajax(options) {\r\n        //创建xhr\r\n        const xhr = new XMLHttpRequest();\r\n        //连接类型\r\n        options.type = (options.type ? options.type.toUpperCase() : 'GET');\r\n        //超时\r\n        xhr.timeout = options.timeout && options.async !== false ? options.timeout : 0;\r\n\r\n        if(options.type === \"GET\") {\r\n\r\n            xhr.open(options.type, (() => {\r\n\r\n                return options.url.indexOf('?') ?\r\n                    options.url + this.serialize(options.data) :\r\n                    options.url + '?' + this.serialize(options.data);\r\n\r\n            })(), options.async);\r\n\r\n        } else if(options.type === \"POST\") {\r\n\r\n            xhr.open(options.type, options.url, options.async);\r\n\r\n        }\r\n        xhr.setRequestHeader('Content-Type', options.contentType ?\r\n            options.contentType :\r\n            'application/x-www-form-urlencoded; charset=UTF-8');\r\n        //响应事件\r\n        xhr.addEventListener('readystatechange', () => {\r\n            let data;\r\n\r\n            try {\r\n                data = JSON.parse(xhr.responseText);\r\n            } catch(e) {\r\n                data = xhr.responseText;\r\n            }\r\n\r\n            if(xhr.readyState == 4) {\r\n                if(xhr.status == 200) {\r\n                    this.cb(options.success, this, [data]);\r\n                } else if(xhr.status >= 400) {\r\n                    this.cb(options.error, this, [data]);\r\n                }\r\n            }\r\n        }, false);\r\n\r\n        //send指令\r\n        if(options.type === \"GET\") {\r\n\r\n            xhr.send();\r\n\r\n        } else if(options.type === \"POST\") {\r\n\r\n            xhr.send(this.serialize(options.data));\r\n\r\n        }\r\n    }\r\n\r\n    serialize(data) { //初始化form数据\r\n        let result = '';\r\n\r\n        if(!this.isObj(data) || !this.isArr(data)) return '';\r\n\r\n        this.each(data, (val, key) => {\r\n\r\n            result = result + key + '=' + encodeURIComponent(val) + '&';\r\n\r\n        });\r\n\r\n        return result.substring(0, result.length - 1);\r\n    }\r\n    \r\n    initRegExp(expr) {\r\n        const tm = '\\\\/*.?+$^[](){}|\\'\\\"';\r\n        this.each(tm, (tmItem, index) => {\r\n            expr = expr.replace(new RegExp('\\\\' + tmItem, 'g'), '\\\\' + tmItem);\r\n        });\r\n        return expr;\r\n    }\r\n}\r\n\r\n//设置事件\r\nFn.prototype.on = (function() {\r\n    if(!inBrowser) return;\r\n    if(typeof document.addEventListener === 'function') {\r\n        return function on(el, type, cb) {\r\n            el.addEventListener(type, cb, false);\r\n        }\r\n    } else {\r\n        return function on(el, type, cb) {\r\n            el.attachEvent('on' + type, cb);\r\n        };\r\n    }\r\n})();\r\n\r\n//移除事件\r\nFn.prototype.off = (function() {\r\n    if(!inBrowser) return;\r\n    if(typeof document.removeEventListener === 'function') {\r\n        return function off(el, type, cb) {\r\n            el.addEventListener(type, cb, false);\r\n        }\r\n    } else {\r\n        return function off(el, type, cb) {\r\n            el.detachEvent('on' + type, cb);\r\n        };\r\n    }\r\n})();\r\n\r\nexport default new Fn();\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/fn.js","/*\r\n *  检测是否在浏览器的环境中 \r\n * */\r\n\r\nconst inBrowser = typeof window !== 'undefined';\r\n\r\nexport default inBrowser;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/in_browser.js","const FILTER_TRANFORM = /[\\b\\t\\f\\n\\r\\v]/g, //过滤转义字符\r\n    //script输出节点信息\r\n    FILTER_SCRIPT = /[\\b\\f\\r\\v]/g,    \r\n    //script的表达是\r\n    SCRIPT_TAG = /<script.*?>([\\s\\S]*?)<\\/script>/g,\r\n    //转义双引号\r\n    QUEST = /\"/g,\r\n    //引入模板\r\n    INCLUDE_ID = /<tmpl-include .*?name=(\\'|\\\")([\\s\\S]*?)\\1.*?>([\\s\\S]*?)<\\/tmpl-include>/g,\r\n    //引入模板\r\n    INCLUDE_FILE = /<tmpl-include .*?file=(\\'|\\\")([\\s\\S]*?)\\1.*?>([\\s\\S]*?)<\\/tmpl-include>/g,\r\n    //错误的模板\r\n    INCLUDE_ERROR = /<tmpl-include.*?>([\\s\\S]*?)<\\/tmpl-include>/g,\r\n    //嵌入block块\r\n    BLOCK = /<tmpl-block .*?name=(\\'|\\\")([\\s\\S]*?)\\1.*?>([\\s\\S]*?)<\\/tmpl-block>/g,\r\n    //append_block\r\n    BLOCK_APPEND = /^append:/,\r\n    //inser_block\r\n    BLOCK_INSETR = /^insert:/,\r\n    //base路径解析\r\n    EXTEND = /<tmpl-extend .*?file=(\\'|\\\")([\\s\\S]*?)\\1.*?\\/>/g;\r\n\r\nexport {\r\n    FILTER_TRANFORM,\r\n    FILTER_SCRIPT,\r\n    SCRIPT_TAG,\r\n    QUEST,\r\n    INCLUDE_ID,\r\n    INCLUDE_FILE,\r\n    INCLUDE_ERROR,\r\n    BLOCK,\r\n    BLOCK_APPEND,\r\n    BLOCK_INSETR,\r\n    EXTEND\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/tmpl-regexp.js","/*\r\n * 一堆解析模板的方法,tmpl的核心算法\r\n * */\r\n//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n//常用的方法\r\nimport fn from './fn';\r\n//include\r\nimport replaceInclude from './include';\r\n//extend\r\nimport replaceBlock from './block';\r\n//html中的转义\r\nimport escapeCode from './escapeCode';\r\n//模板正则配置\r\nimport {\r\n    FILTER_TRANFORM,\r\n    FILTER_SCRIPT,\r\n    SCRIPT_TAG,\r\n    QUEST,\r\n    BLOCK,\r\n    EXTEND\r\n} from './tmpl-regexp';\r\n\r\n\r\n//由于模块接口中都是只读的，不能放在配置中；\r\nlet SCRIPT_REGEXP,\r\n    /*原生script*/\r\n    NATIVE_SCRIPT,\r\n    /*输出script*/\r\n    ECHO_SCRIPT_REGEXP,\r\n    //转义输出\r\n    ECHO_ESCAPE_REGEXP,\r\n    /*替换输出script*/\r\n    REPLACE_ECHO_SCRIPT_OPEN_TAG,\r\n    //转义的开头表达式\r\n    ECHO_ESCAPE_REGEXP_OPEN_TAG,\r\n    /*起始*/\r\n    OPEN_TAG_REGEXP,\r\n    /*闭合*/\r\n    CLOSE_TAG_REGEXP;\r\n\r\n//设置正则\r\nexport function setRegExp() {\r\n\r\n    const open_tag = fn.initRegExp(this.config.open_tag),\r\n        close_tag = fn.initRegExp(this.config.close_tag);\r\n    //解析所有的表达式\r\n    SCRIPT_REGEXP = new RegExp(open_tag + '[^=-][\\\\\\s\\\\\\S]*?' + close_tag + '|' + open_tag + '=[\\\\\\s\\\\\\S]*?' + close_tag + '|' + open_tag + '-[\\\\\\s\\\\\\S]*?' + close_tag, 'g');\r\n    //原生的script\r\n    NATIVE_SCRIPT = new RegExp(open_tag + '[^=-][\\\\\\s\\\\\\S]*?' + close_tag, 'g');\r\n    //解析输出的表达式\r\n    ECHO_SCRIPT_REGEXP = new RegExp(open_tag + '=([\\\\\\s\\\\\\S]*?)' + close_tag, 'g');\r\n    //转义输出\r\n    ECHO_ESCAPE_REGEXP = new RegExp(open_tag + '-([\\\\\\s\\\\\\S]*?)' + close_tag, 'g');\r\n    //替换输出的开头表达式\r\n    REPLACE_ECHO_SCRIPT_OPEN_TAG = new RegExp(open_tag + '=', 'g');\r\n    //转义的开头表达式\r\n    ECHO_ESCAPE_REGEXP_OPEN_TAG = new RegExp(open_tag + '-', 'g');\r\n    //替换输出的开始表达式\r\n    OPEN_TAG_REGEXP = new RegExp(open_tag, 'g');\r\n    //替换输出的结束表达式\r\n    CLOSE_TAG_REGEXP = new RegExp(close_tag, 'g');\r\n}\r\n\r\n//初始化dom生成\r\nexport function render() {\r\n    //node中使用block\r\n    if(!inBrowser) {\r\n        replaceBlock.call(this);\r\n        /*清除遗留的block块*/\r\n        clearBlock.call(this);\r\n    }\r\n    /*重新检查依赖里面有没有引入的数据*/\r\n    replaceAlias.call(this);\r\n    /*替换include中的内容*/\r\n    replaceInclude.call(this);\r\n    /*解析script*/\r\n    let script = this.template.match(SCRIPT_REGEXP) || [];\r\n    //设置占位\r\n    const replaceScript = setSeize.call(this),\r\n        echoString = replaceScript.split(/___SCRIPT___|___ECHO_SCRIPT___/), //拆分占位\r\n        domString = [],\r\n        longString = echoString.length > script.length ? echoString : script;\r\n\r\n    //排除了运算和赋值表达式，处理直接输出的字符串\r\n    fn.each(echoString, (_echoString, index) => {\r\n        echoString[index] = \"___.push(\\\"\" + filterTransferredMeaning(_echoString) + \"\\\");\";\r\n    });\r\n\r\n    //这里是处理所有表达式内容\r\n    fn.each(script, (_string, index) => {\r\n        //恢复正则的索引位置\r\n        ECHO_SCRIPT_REGEXP.lastIndex = 0;\r\n        NATIVE_SCRIPT.lastIndex = 0;\r\n        ECHO_ESCAPE_REGEXP.lastIndex = 0;\r\n        //处理对应表达式\r\n        if(ECHO_SCRIPT_REGEXP.test(_string)) {\r\n            script[index] = _string\r\n                .replace(REPLACE_ECHO_SCRIPT_OPEN_TAG, \"___.push(\")\r\n                .replace(CLOSE_TAG_REGEXP, \");\");\r\n        } else if(NATIVE_SCRIPT.test(_string)) {\r\n            script[index] = _string\r\n                .replace(OPEN_TAG_REGEXP, '')\r\n                .replace(CLOSE_TAG_REGEXP, '');\r\n        } else if(ECHO_ESCAPE_REGEXP.test(_string)) {\r\n            script[index] = _string\r\n                .replace(ECHO_ESCAPE_REGEXP_OPEN_TAG, \"___.push(_this_.escape(\")\r\n                .replace(CLOSE_TAG_REGEXP, \"));\");\r\n        }\r\n    });\r\n\r\n    fn.each(longString, (_longString, index) => {\r\n        //直接输出的dom结构\r\n        if(fn.isStr(echoString[index])) {\r\n            domString.push(echoString[index]);\r\n        }\r\n        //js的源码\r\n        if(fn.isStr(script[index])) {\r\n            domString.push(script[index].replace(FILTER_TRANFORM, \"\"));\r\n        }\r\n    });\r\n\r\n    this.dom = 'var _this_ = this,___ = [];' + domString.join('') + 'return ___.join(\"\");';\r\n\r\n};\r\n\r\n/*替换别名的常量*/\r\nexport function replaceAlias() {\r\n    const constructor = this.constructor;\r\n    fn.each(constructor.alias, (replaceAlias, alias) => {\r\n        this.template = this.template.replace(new RegExp(fn.initRegExp(alias), 'g'), replaceAlias);\r\n    });\r\n}\r\n\r\n/*清除多余的block块*/\r\nfunction clearBlock() {\r\n    this.template = this.template\r\n        .replace(EXTEND, '')\r\n        .replace(BLOCK, '');\r\n}\r\n\r\n//设置占位\r\nfunction setSeize() {\r\n    const replaceScript = this.template\r\n        .replace(ECHO_SCRIPT_REGEXP, '___ECHO_SCRIPT___')\r\n        .replace(SCRIPT_REGEXP, '___SCRIPT___');\r\n    return replaceScript;\r\n}\r\n\r\n//过滤string中的引号\r\nfunction filterTransferredMeaning(string) {\r\n    //检查script的标签\r\n    const scriptTags = string.match(SCRIPT_TAG),\r\n        _string = string\r\n        .replace(SCRIPT_TAG, '___SCRIPT_TAG___')\r\n        .replace(FILTER_TRANFORM, \"\")\r\n        .replace(QUEST, '\\\\\\\"');\r\n\r\n    return !scriptTags ? _string : (filterScriptTag(_string, scriptTags));\r\n}\r\n\r\n//过滤script标签\r\nfunction filterScriptTag(string, scriptTags) {\r\n    const splitScriptTag = string.split('___SCRIPT_TAG___'),\r\n        dom = [];\r\n    fn.each(splitScriptTag, (script, index) => {\r\n        dom.push(script);\r\n        if(scriptTags[index]) {\r\n            dom.push(scriptTags[index]\r\n                .replace(QUEST, '\\\\\\\"')\r\n                .replace(FILTER_SCRIPT, '')\r\n                .replace(/\\n/g, '\\\\n')\r\n            );\r\n        }\r\n    });\r\n    return dom.join(\"\");\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/tmpl-render.js","// html转义\r\nconst escapeCode = {\r\n    \"&\": \"&amp;\",\r\n    \"<\": \"&lt;\",\r\n    \">\": \"&gt;\",\r\n    '\"': \"&quot;\",\r\n    \"'\": \"&#x27;\",\r\n    \"`\": \"&#x60;\"\r\n}\r\n\r\nexport default escapeCode;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/escapeCode.js","//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n\r\n//在node环境中使用需要用到fs获取文件\r\nlet fs;\r\n\r\nif(!inBrowser) {\r\n    fs = __non_webpack_require__('fs');\r\n}\r\n\r\nexport default fs;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/fs.js","//常用的方法\r\nimport fn from './fn';\r\n//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n\r\n//初始化时间中的参数\r\nexport function setEvent() {\r\n\tif(this.constructor._event_) return;\r\n\tthis.constructor._event_ = {\r\n\t    eventEl:[]\r\n\t}\r\n}\r\n\r\n//设置实例属性\r\nexport function setInstance(type) {\r\n\tconst get = this.config[type];\r\n\tif(!fn.isObj(get)) {\r\n\t\treturn;\r\n\t}\r\n\tfn.each(get, (_get, key) => {\r\n\t\tthis[key] = _get;\r\n\t});\r\n}\r\n\r\n//设置this.template\r\nexport function setEl(){\r\n\tif(inBrowser) {\r\n\t\ttry{\t\t\t\r\n\t\t\treturn this.getEl(this.config.template).innerHTML; \r\n\t\t}catch(e){\r\n\t\t\treturn this.config.template;\r\n\t\t}\r\n\t} else {\r\n\t\treturn this.config.template;\r\n\t}\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/set.js","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n\r\n//兼容性IE8\r\n(() => {\r\n\t//兼容IE8中 的indexOf\r\n\tif(!Array.prototype.indexOf) {\r\n\t\tArray.prototype.indexOf = (val) => {\r\n\t\t\tfor(let index = 0, len = this.length; index < len; index++) {\r\n\t\t\t\tif(this[index] === val) {\r\n\t\t\t\t\treturn index;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t}\r\n\t}\r\n\r\n\t/*只在浏览器环境使用*/\r\n\tif(inBrowser && !document.getElementsByClassName) {\r\n\t\tdocument.getElementsByClassName = (className, el) => {\r\n\t\t\tconst children = (el || document).getElementsByTagName('*'),\r\n\t\t\t\telements = new Array();\r\n\t\t\tfor(let i = 0; i < children.length; i++) {\r\n\t\t\t    \r\n\t\t\t\tconst child = children[i],\r\n\t\t\t\t\tclassNames = child.className.split(' ');\r\n\t\t\t\t\t\r\n\t\t\t\tfor(let j = 0; j < classNames.length; j++) {\r\n\t\t\t\t\tif(classNames[j] == className) {\r\n\t\t\t\t\t\telements.push(child);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn elements;\r\n\t\t};\r\n\t}\r\n})();\r\n\r\nexport default true;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/compatibility.js","//tmpl的初始化\r\nimport init from './init';\r\n//处理模板数据的Render类\r\nimport Render from './render';\r\n//常用的类方法\r\nimport fn from './fn';\r\n//Dom的操作\r\nimport Dom from './dom';\r\n//config配置\r\nimport config from './config';\r\n//转义html\r\nimport escapeCode from './escapeCode';\r\n//set\r\nimport { setEl } from './set';\r\n//tmpl的render解析\r\nimport {\r\n\trender\r\n} from './tmpl-render';\r\n\r\nexport default class Tmpl extends Dom {\r\n    //Tmpl构造\r\n    constructor(opts) {\r\n        super();\r\n        this.config = fn.extend(fn.copy(config), opts);\r\n        this.init();\r\n    }\r\n\r\n    //安装插件\r\n    static install(constructor) {\r\n        constructor.install(this);\r\n    }\r\n    \r\n    //直接解析\r\n    static render(domStr,data){\r\n    \tconst tmpl = new this({\r\n    \t\ttemplate:domStr\r\n    \t});\r\n    \t\r\n    \tconsole.log(tmpl);\r\n    \t\r\n    \treturn tmpl.render(data).dom;\r\n    }\r\n\r\n    //初始化对象\r\n    init() {\r\n        init.call(this);\r\n    }\r\n\r\n    //解析模板和数据\r\n    render(data) {\r\n        return new Render({\r\n            tmpl: this,\r\n            data: data\r\n        });\r\n    }\r\n\r\n    //添加数据更新模板\r\n    update() {\r\n        this.template = setEl.call(this);\r\n        render.call(this);\r\n        return this;\r\n    }\r\n\r\n    /*回调*/\r\n    cb(cb) {\r\n        fn.cb(cb, this);\r\n        return this;\r\n    }\r\n\r\n    /*转义*/\r\n    escape(escapeVal) {\r\n        fn.each(escapeCode, (item, key) => {\r\n            escapeVal = escapeVal.replace(new RegExp(key, 'g'), item);\r\n        });\r\n        return escapeVal;\r\n    }\r\n}\r\n\r\n//常用的方法给tmpl的fn属性中\r\nTmpl.prototype.fn = fn;\r\n\r\n//设置路径别名常量\r\nTmpl.alias = {};\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/tmpl.js","//兼容性处理\r\nimport compatibility from './tmpl/compatibility';\r\n//Tmpl 文件入口\r\nimport Tmpl from './tmpl/tmpl';\r\n\r\n(function(global, factory) {\r\n    if(typeof demand === 'function' && typeof demand.define === 'function')\r\n        demand.define('tmpl', factory);\r\n    else if(typeof exports === 'object' && typeof module === 'object')\r\n        module.exports = factory();\r\n    else\r\n        (global ? (global.Tmpl = factory()) : {});\r\n})(typeof window !== 'undefined' ? window : this, function() {\r\n    Tmpl.version = \"v1.0.5\";\r\n    return Tmpl;\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","//常用的方法\r\nimport fn from './fn';\r\n\r\nimport {\r\n    replaceAlias\r\n} from './tmpl-render';\r\n\r\n//在node环境中使用需要用到fs获取文件\r\nimport fs from './fs';\r\n\r\n//模板正则配置\r\nimport {\r\n    BLOCK,\r\n    BLOCK_APPEND,\r\n    BLOCK_INSETR,\r\n    EXTEND\r\n} from './tmpl-regexp';\r\n\r\n/*替换Block块内容*/\r\nexport default function replaceBlock() {\r\n    //先设置获取include的引入模板\r\n    replaceAlias.call(this);\r\n\r\n    const baseFile = fn.unique(this.template.match(EXTEND)),\r\n        /*只获取第一个base的名字*/\r\n        baseFileName = baseFile.toString()\r\n        .replace(EXTEND, \"$2\")\r\n        .split(',')[0];\r\n\r\n    /*如果不存在block的内容，直接跳出*/\r\n    if(baseFileName === '') return;\r\n\r\n    //获取入口模板\r\n    const blockTmpl = fn.unique(this.template.match(BLOCK));\r\n\r\n    //获取继承的模板\r\n    let layoutTmpl = fs.readFileSync(baseFileName, {\r\n        encoding: 'UTF8'\r\n    });\r\n\r\n    //从继承模板中筛选出block\r\n    const layoutTmplFindBlock = layoutTmpl.match(BLOCK) || [],\r\n        layoutTmplFindBlockStr = layoutTmplFindBlock.toString(),\r\n        baseBlockName = fn.unique(layoutTmplFindBlockStr !== '' ? (layoutTmplFindBlockStr.replace(BLOCK, \"$2\")\r\n            .split(',')) : []);\r\n\r\n    fn.each(baseBlockName, (name, index) => {\r\n\r\n        const block = layoutTmplFindBlock[index],\r\n            replaceBlock = new RegExp(fn.initRegExp(block), 'g');\r\n\r\n        let hasBlock = false;\r\n\r\n        fn.each(blockTmpl, (blocktmpl, _index) => {\r\n\r\n            BLOCK.test(blocktmpl);\r\n\r\n            const _name = RegExp.$2,\r\n                blockContent = RegExp.$3;\r\n\r\n            //匹配到name的\r\n            if(name === _name) {\r\n                layoutTmpl = layoutTmpl.replace(replaceBlock, blockContent);\r\n                hasBlock = true;\r\n            } else if(BLOCK_APPEND.test(_name) && name === _name.replace(BLOCK_APPEND, '')) {\r\n                layoutTmpl = layoutTmpl.replace(replaceBlock, block.replace(BLOCK, \"$3\") + blockContent);\r\n                hasBlock = true;\r\n            } else if(BLOCK_INSETR.test(_name) && name === _name.replace(BLOCK_INSETR, '')) {\r\n                layoutTmpl = layoutTmpl.replace(replaceBlock, blockContent + block.replace(BLOCK, \"$3\"));\r\n                hasBlock = true;\r\n            }\r\n\r\n            BLOCK.lastIndex = 0;\r\n\r\n        });\r\n\r\n        /*如果当前的block是在extends的模板中不存在，则显示默认里面的*/\r\n        if(!hasBlock) {\r\n            layoutTmpl = layoutTmpl.replace(replaceBlock, block.replace(BLOCK, '$3'));\r\n        }\r\n    });\r\n\r\n    this.template = layoutTmpl;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/block.js","/*配置信息*/\r\nconst config = {\r\n    open_tag: \"<%\", //OPEN_TAG\r\n    close_tag: \"%>\", //CLOSE_TAG,\r\n    template: \"\",\r\n    data: {},\r\n    methods: {}\r\n};\r\n\r\nexport default config;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/config.js","//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n//常用的方法\r\nimport fn from './fn';\r\n\r\n//绑定相关函数\r\nfunction bindFn(el, className, type) {\r\n\r\n    const _className = el.className.split(' ');\r\n\r\n    //替换\r\n    if(fn.isObj(className) && (type == 'replaceBind' || type == 'replaceClass')) {\r\n        fn.each(className, (__className, key) => {\r\n            var findIndex = _className.indexOf(key);\r\n            if(findIndex != -1) _className[findIndex] = __className;\r\n        });\r\n    } else {\r\n        //获得el中的className{type:string}\r\n        className = className.split(' ');\r\n\r\n        for(var index = 0; index < className.length; index++) {\r\n\r\n            const findIndex = _className.indexOf(className[index]);\r\n\r\n            if(type == 'bind' || type == 'addClass') {\r\n\r\n                if(findIndex == -1) _className.push(className[index]);\r\n\r\n            } else if(type == 'unbind' || type == 'removeClass') {\r\n\r\n                if(findIndex != -1) _className.splice(findIndex, 1);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    el.className = _className.join(' ');\r\n\r\n    return this;\r\n}\r\n\r\n//设置主的委托事件\r\nfunction setEntrust(ele, type, cb) {\r\n    fn.on(ele, type, (event) => {\r\n        const ev = event || window.event,\r\n\r\n            el = ev.target || ev.srcElement,\r\n\r\n            eventType = ele.event.events[type];\r\n\r\n        fn.each(eventType, (_eventType, bind) => {\r\n\r\n            if(!this.hasClass(el, bind)) return;\r\n\r\n            fn.each(_eventType, (cb, index) => {\r\n\r\n                cb.apply(this, [ev, el]);\r\n\r\n            });\r\n        });\r\n\r\n    });\r\n    \r\n}\r\n\r\nclass Dom {\r\n    getEl(exp) { \r\n        \r\n        //获取节点\r\n        if(!exp) return null;\r\n        \r\n        if(!this.fn.isFn(document.querySelector)){            \r\n            return document.getElementById(exp);\r\n        }\r\n        \r\n        const getEl = document.querySelector(exp),\r\n            el = document.getElementById(exp);\r\n            \r\n        return getEl !== null ? getEl : (el ? el : null);\r\n    }\r\n\r\n    getEls(exp) {\r\n        \r\n        //获取多个节点\r\n        if(!exp) return null;\r\n        \r\n        if(!this.fn.isFn(document.querySelectorAll)){            \r\n            return document.getElementsByClassName(exp);\r\n        }\r\n        \r\n        const getEls = document.querySelectorAll(exp),\r\n            el = document.getElementsByClassName(exp);\r\n            \r\n        return getEls.length > 0 ? getEls : (el ? el : []);\r\n    }\r\n    //绑定事件\r\n    on(ele, exp, type, cb) {\r\n        if(arguments.length === 4) {\r\n\r\n            //初始化事件\r\n            if(this.constructor._event_.eventEl.indexOf(ele) == -1) {\r\n                \r\n                this.constructor._event_.eventEl.push(ele);\r\n                \r\n                ele.event = {\r\n                    eventType:[],\r\n                    events:{}\r\n                };    \r\n            }\r\n            \r\n            if(ele.event.eventType.indexOf(type) == -1) {\r\n                setEntrust.apply(this, [ele, type, cb]);\r\n                //添加委托事件\r\n                ele.event.eventType.push(type);\r\n            }\r\n\r\n            //查找现在的节点是否存在事件\r\n            if(!ele.event.events[type]) {\r\n                ele.event.events[type] = {};\r\n            }\r\n\r\n            //当前的事件是否有设置\r\n            if(!ele.event.events[type][exp]) {\r\n                ele.event.events[type][exp] = [];\r\n            }\r\n\r\n            //添加处理函数到事件列表中\r\n            ele.event.events[type][exp].push(cb);\r\n\r\n        } else if(arguments.length === 3) {\r\n            cb = type;\r\n            type = exp;\r\n            fn.on(ele, type, (event) => {\r\n                cb.call(this, event);\r\n            });\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    //取消绑定事件\r\n    off(ele, exp, type, cb) {\r\n        if(arguments.length === 4) {\r\n            var eventIndex = this.events[type][exp].indexOf(cb);\r\n            if(eventIndex != -1)\r\n                ele.events[type][exp].splice(eventIndex, 1);\r\n        } else if(arguments.length === 3) {\r\n            /*删除事件*/\r\n            fn.off(ele, type, cb);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    //设置事件委托的class\r\n    bind(el, bind) {\r\n        bindFn.apply(this, [el, bind, 'bind']);\r\n        return this;\r\n    }\r\n\r\n    //取消方法绑定\r\n    unbind(el, bind) {\r\n        bindFn.apply(this, [el, bind, 'unbind']);\r\n        return this;\r\n    }\r\n\r\n    //替换绑定\r\n    replaceBind(el, bind) {\r\n        bindFn.apply(this, [el, bind, 'replaceBind']);\r\n        return this;\r\n    }\r\n\r\n    //添加class\r\n    addClass(el, className) {\r\n        bindFn.apply(this, [el, className, 'addClass']);\r\n        return this;\r\n    }\r\n\r\n    //删除class\r\n    removeClass(el, className) {\r\n        bindFn.apply(this, [el, className, 'removeClass']);\r\n        return this;\r\n    }\r\n\r\n    //替换className\r\n    replaceClass(el, className) {\r\n        bindFn.apply(this, [el, className, 'replaceClass']);\r\n        return this;\r\n    }\r\n\r\n    //是否存在class\r\n    hasClass(el, className) {    \r\n        try {\r\n            //节点中存在的className\r\n            const _className = el.className.split(' '),\r\n                //是否存在的className\r\n                hasClassName = className.split(' ');\r\n\r\n            let hasLen = 0;\r\n\r\n            for(var index = 0; index < hasClassName.length; index++) {\r\n                if(_className.indexOf(hasClassName[index]) !== -1) ++hasLen;\r\n            }\r\n\r\n            if(hasLen === hasClassName.length) return true;\r\n\r\n            return false;\r\n\r\n        } catch(e) {\r\n\r\n            return false;\r\n\r\n        }\r\n    }\r\n\r\n    //获取属性\r\n    attr(el, attr) {\r\n        if(fn.isObj(attr)) {\r\n\r\n            fn.each(attr, (_attr, key) => {\r\n\r\n                if(typeof _attr === 'boolean') {\r\n\r\n                    el[key] = _attr;\r\n\r\n                    el.setAttribute(key, _attr);\r\n\r\n                } else if(_attr === '') {\r\n\r\n                    el.removeAttribute(key);\r\n\r\n                } else {\r\n\r\n                    el.setAttribute(key, _attr);\r\n\r\n                }\r\n            });\r\n\r\n            return this;\r\n\r\n        } else {\r\n\r\n            if(attr instanceof Array) {\r\n\r\n                var attrs = [];\r\n\r\n                fn.each(attr, (_attr, index) => {\r\n\r\n                    attrs.push(this.attr(el, _attr));\r\n\r\n                });\r\n\r\n                return attrs;\r\n\r\n            } else if(/^bind-\\S*/.test(attr)) {\r\n\r\n                return new Function('return ' + el.getAttribute(attr) + ';')\r\n                    .apply(this);\r\n\r\n            } else {\r\n\r\n                return el.getAttribute(attr);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    //获取、设置prop属性\r\n    prop(el, prop) {\r\n        //设置节点属性\r\n        if(fn.isObj(prop)) {\r\n            fn.each(prop, (_prop, key) => {\r\n\r\n                el[key] = _prop;\r\n\r\n            });\r\n\r\n            return this;\r\n\r\n        } else if(fn.isStr(prop)) { //获得节点属性\r\n\r\n            if(/^bind-\\S*/.test(prop))\r\n\r\n                return new Function('return ' + el[prop] + ';')\r\n                    .apply(this);\r\n\r\n            return el[prop];\r\n\r\n        }\r\n    }\r\n\r\n    //获取、设置html\r\n    html(el, html) {\r\n        if(html === undefined) return el.innerHTML;\r\n        el.innerHTML = html;\r\n        return this;\r\n    }\r\n\r\n    //获取、设置value\r\n    val(el, val) {\r\n        if(val === undefined) return el.value;\r\n        el.value = val;\r\n        return this;\r\n    }\r\n\r\n    //获取、设置textContent\r\n    text(el, text) {\r\n        if(text === undefined) return el.textContent;\r\n        el.textContent = text;\r\n        return this;\r\n    }\r\n\r\n    //查找符合的一个父级节点\r\n    parent(el, hasClassName) {\r\n\r\n        var parent = el.parentNode;\r\n\r\n        if(parent === document || parent === null) return null;\r\n\r\n        if(!hasClassName) return parent;\r\n\r\n        if(this.hasClass(parent, hasClassName)) return parent;\r\n\r\n        return this.parent(parent, hasClassName);\r\n\r\n    }\r\n\r\n    //超找所有符合的父元素\r\n    parents(el, hasClassName, hasClassParent) {\r\n\r\n        var parent = el.parentNode;\r\n\r\n        hasClassParent = (hasClassParent ? hasClassParent : []);\r\n\r\n        if(parent === document || parent === null) return null;\r\n\r\n        if(this.hasClass(parent, hasClassName)) hasClassParent.push(parent);\r\n\r\n        this.parents(parent, hasClassName, hasClassParent);\r\n\r\n        return hasClassParent;\r\n    }\r\n\r\n    //获取直接的当个子节点\r\n    children(el) {\r\n        const els = [];\r\n        fn.each(el.childNodes, (child) => {\r\n            if(child.nodeType === 1) {\r\n                els.push(child);\r\n            }\r\n        });\r\n        return els;\r\n    };\r\n\r\n    //查找对应的class存在的节点\r\n    childrens(el, className, hasClassChild) {\r\n        var i = 0;\r\n        hasClassChild = (hasClassChild ? hasClassChild : []);\r\n        for(; i < el.children.length; i++) {\r\n            if(this.hasClass(el.children[i], className)) hasClassChild.push(el.children[i]);\r\n            this.childrens(el.children[i], className, hasClassChild);\r\n        }\r\n        return hasClassChild;\r\n    }\r\n\r\n    //下一个节点\r\n    next(el) {\r\n        const nextEl = el.nextSibling;\r\n        if(nextEl === null) return null;\r\n        if(nextEl.nodeType !== 1) return this.next(nextEl);\r\n        return nextEl;\r\n    }\r\n\r\n    //获取当前元素同级前的节点\r\n    nextAll(el) {\r\n        return this.siblings(el, 'nextAll');\r\n    }\r\n\r\n    //获取当前元素同级后的节点\r\n    prevAll(el) {\r\n        return this.siblings(el, 'prevAll');\r\n    }\r\n\r\n    //上一个节点\r\n    prev(el) {\r\n        const prevEl = el.previousSibling;\r\n        if(prevEl === null) return null;\r\n        if(prevEl.nodeType !== 1) return this.prev(prevEl);\r\n        return prevEl;\r\n    }\r\n\r\n    //获取同级的兄弟节点\r\n    siblings(el, type) {\r\n        const parent = this.parent(el);\r\n\r\n        if(parent === null) return null;\r\n\r\n        const child = parent.children;\r\n\r\n        const siblings = [];\r\n\r\n        let i = 0;\r\n\r\n        if(type === 'nextAll')\r\n            i = Array.prototype.indexOf.call(child, el);\r\n\r\n        for(; i < child.length; i++) {\r\n\r\n            if(child[i] !== el) siblings.push(child[i]);\r\n\r\n            if(type === 'prevAll' && child[i] === el) return siblings;\r\n\r\n        }\r\n\r\n        return siblings;\r\n    }\r\n\r\n    //显示\r\n    hide(el, time) {\r\n\r\n        var opacity = this.css(el, 'opacity');\r\n\r\n        el.opacity = opacity ? opacity : 1;\r\n\r\n        fn.isNum(time) ? (this.animate(el, {\r\n            opacity: 0\r\n        }, time, () => {\r\n            el.style.display = 'none';\r\n        })) : el.style.display = 'none';\r\n\r\n        return this;\r\n    }\r\n\r\n    //隐藏\r\n    show(el, time) {\r\n\r\n        var opactiy = el.opactiy ? el.opactiy : 100;\r\n\r\n        if(fn.isNum(time)) {\r\n\r\n            this.css(el, {\r\n                opacity: 0\r\n            });\r\n\r\n            el.style.display = '';\r\n\r\n            this.animate(el, {\r\n                opacity: opactiy\r\n            }, time);\r\n\r\n        } else {\r\n            el.style.display = '';\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /*切换显示状态*/\r\n    toggle(el, time) {\r\n        if(el.style.display === '') this.hide(el, time);\r\n        else this.show(el, time);\r\n    }\r\n\r\n    /*动画*/\r\n    animate(el, animate, time, cb) {\r\n\r\n        if(!el) return;\r\n\r\n        el.timer = setInterval(() => {\r\n\r\n            let animateStatus = true;\r\n\r\n            fn.each(animate, (val, type) => {\r\n\r\n                let speed = 0,\r\n                    cssVal = 0;\r\n\r\n                if(type === 'opacity') {\r\n\r\n                    cssVal = Number(this.css(el, 'opacity')) * 100;\r\n\r\n                } else if(type === 'scrollTop') {\r\n\r\n                    cssVal = Math.ceil(document.documentElement.scrollTop || document.body.scrollTop);\r\n\r\n                    let maxScrollTop = Math.ceil(document.body.scrollHeight - window.innerHeight);\r\n\r\n                    if(val > maxScrollTop) {\r\n                        val = maxScrollTop;\r\n                        animate['scrollTop'] = maxScrollTop;\r\n                    }\r\n\r\n                } else {\r\n                    cssVal = parseInt(this.css(el, type));\r\n                }\r\n\r\n                speed = (val - cssVal) / 8;\r\n\r\n                speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);\r\n\r\n                const setVal = {};\r\n\r\n                if(type === 'opacity') {\r\n                    setVal['opacity'] = (cssVal + speed) / 100;\r\n                    this.css(el, setVal);\r\n                } else if(type === 'scrollTop') {\r\n                    this.setScrollTop(cssVal + speed);\r\n                } else {\r\n                    setVal[type] = cssVal + speed + 'px';\r\n                    this.css(el, setVal);\r\n                }\r\n\r\n                if(parseInt(val) !== cssVal) {\r\n                    animateStatus = false;\r\n                }\r\n            });\r\n\r\n            if(animateStatus) {\r\n                clearInterval(el.timer);\r\n                fn.cb(cb, this);\r\n            }\r\n\r\n        }, time / 60);\r\n    }\r\n\r\n    /*操作css*/\r\n    css(el, css) {\r\n        //获取css\r\n        if(fn.isStr(css)) {\r\n            return this.curCss(el, css);\r\n        } else if(fn.isObj(css)) {\r\n            //设置style\r\n            this.setStyle(el, css);\r\n            return this;\r\n        }\r\n    }\r\n\r\n    /*处理驼峰和非驼峰*/\r\n    camelCase(text, isCameCase) {\r\n        let camelCases;\r\n\r\n        const AZ = /[A-Z]/g,\r\n            _AZ = /-[a-z]/g;\r\n\r\n        if(!fn.isStr(text)) return text;\r\n\r\n        camelCases = isCameCase ? text.match(_AZ) : text.match(AZ);\r\n\r\n        camelCases = camelCases ? camelCases : [];\r\n\r\n        fn.each(camelCases, (str, index) => {\r\n            if(isCameCase) text = text.replace(str, str.replace(/-/g, '')\r\n                .toUpperCase());\r\n            else text = text.replace(str, '-' + str.toLowerCase());\r\n        });\r\n\r\n        return text;\r\n    }\r\n\r\n    /*获取计算好的值*/\r\n    curCss(el, css) {\r\n\r\n        let _css;\r\n\r\n        if(window.getComputedStyle) {\r\n\r\n            _css = this.camelCase(css, true);\r\n\r\n            return window.getComputedStyle(el, null)[_css];\r\n\r\n        } else if(document.documentElement.currentStyle) {\r\n\r\n            _css = this.camelCase(css, false);\r\n\r\n            return document.documentElement.currentStyle[_css];\r\n\r\n        }\r\n    }\r\n\r\n    /*设置css*/\r\n    setStyle(el, css) {\r\n\r\n        fn.each(css, (style, cssName) => {\r\n\r\n            el.style[cssName] = style;\r\n\r\n        });\r\n    }\r\n\r\n    /*删除节点*/\r\n    remove(el) {\r\n        try {\r\n            el.remove();\r\n        } catch(e) {\r\n            const parent = this.parent(el);\r\n            parent !== null ? parent.removeChild(el) : (console.warn('element remove error!'));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /*创建元素*/\r\n    create(dom) {\r\n\r\n        const fragment = document.createDocumentFragment();\r\n\r\n        const tempEl = document.createElement('div');\r\n\r\n        tempEl.innerHTML = dom;\r\n\r\n        while(tempEl.childNodes.length !== 0) {\r\n\r\n            let child = tempEl.childNodes[0];\r\n\r\n            const childHtml = child.innerHTML;\r\n\r\n            if(child.tagName === 'SCRIPT') {\r\n\r\n                const newScript = document.createElement('script');\r\n\r\n                newScript.innerHTML = childHtml;\r\n\r\n                fn.each(child.attributes, (attr) => {\r\n\r\n                    if(!attr) true;\r\n\r\n                    newScript.setAttribute(attr.name, attr.value);\r\n\r\n                });\r\n\r\n                this.remove(child);\r\n\r\n                child = newScript;\r\n\r\n            }\r\n\r\n            fragment.appendChild(child);\r\n\r\n        }\r\n\r\n        return fragment;\r\n    }\r\n\r\n    /*插入节点*/\r\n    append(el, child) {\r\n\r\n        if(el.nodeType === 1) el.appendChild(child);\r\n\r\n        else fn.getEl(el)\r\n            .appendChild(child);\r\n\r\n        return this;\r\n    }\r\n\r\n    //取消冒泡\r\n    preventDefault(event) {\r\n\r\n        const ev = event || window.event;\r\n\r\n        ev.stopPropagation();\r\n\r\n        ev.cancelBubble = true;\r\n\r\n    }\r\n\r\n    //offset\r\n    offset(el) {\r\n\r\n        const box = el.getBoundingClientRect(),\r\n\r\n            docElem = document.documentElement,\r\n\r\n            body = document.body,\r\n\r\n            win = window,\r\n\r\n            clientTop = docElem.clientTop || body.clientTop || 0,\r\n\r\n            clientLeft = docElem.clientLeft || body.clientLeft || 0,\r\n\r\n            scrollTop = win.pageYOffset || docElem.scrollTop,\r\n\r\n            scrollLeft = win.pageXOffset || docElem.scrollLeft;\r\n\r\n        return {\r\n            top: box.top + scrollTop - clientTop,\r\n            left: box.left + scrollLeft - clientLeft\r\n        };\r\n    }\r\n\r\n    /*设置滚动条高度*/\r\n    setScrollTop(top, animate) {\r\n\r\n        document.body.scrollTop = top;\r\n\r\n        document.documentElement.scrollTop = top;\r\n\r\n    }\r\n}\r\n\r\nexport default Dom;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/dom.js","//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n//常用的方法\r\nimport fn from './fn';\r\n//在node环境中使用需要用到fs获取文件\r\nimport fs from './fs';\r\n\r\n//模板正则配置\r\nimport {\r\n    INCLUDE_ID,\r\n    INCLUDE_FILE,\r\n    INCLUDE_ERROR,\r\n} from './tmpl-regexp';\r\n\r\n/*替换include引入的模板*/\r\nexport default function replaceInclude() {\r\n    const include = (() => {\r\n        if(inBrowser) {\r\n            //在浏览器环境清空include[file]\r\n            return INCLUDE_ID;\r\n        } else {\r\n            //在node环境清空include[name]\r\n            return INCLUDE_FILE;\r\n        }\r\n    })();\r\n\r\n    let includeTmpl, includeId;\r\n\r\n    //去重\r\n    includeTmpl = fn.unique(this.template.match(include));\r\n    includeId = includeTmpl.toString().replace(include, \"$2\").split(',');\r\n\r\n    //找不到include//查找的id和include匹配的数量必须相同\r\n    if(includeTmpl.length === 0 || fn.trimArr(includeId)\r\n        .length === 0 ||\r\n        !(includeTmpl.length > 0 &&\r\n            includeId.length > 0 &&\r\n            includeId.length === includeTmpl.length\r\n        )) return;\r\n\r\n    fn.each(includeId, (id, index) => {\r\n        const replaceIncludeRegExp = new RegExp(fn.initRegExp(includeTmpl[index]), 'g');\r\n        /*浏览器环境下执行*/\r\n        if(inBrowser) {\r\n            const el = this.getEl(id);\r\n            if(el) this.template = this.template.replace(replaceIncludeRegExp, this.html(el));\r\n            //找不到就清空原来的内容\r\n            else this.template = this.template.replace(replaceIncludeRegExp, '');\r\n        } else {\r\n            /*node环境下执行*/\r\n            try {\r\n                const tmpl = fs.readFileSync(id, {\r\n                    encoding: 'UTF8'\r\n                });\r\n\r\n                this.template = this.template.replace(replaceIncludeRegExp, tmpl);\r\n\r\n            } catch(e) {\r\n                //找不到就清空原来的内容\r\n                this.template = this.template.replace(replaceIncludeRegExp, '');\r\n            }\r\n        }\r\n    });\r\n\r\n    /*去掉重复的include*/\r\n    includeTmpl = fn.unique(this.template.match(include));\r\n\r\n    /*查找是否还有include的引入*/\r\n    if(includeTmpl.length > 0) replaceInclude.call(this);\r\n\r\n    /*清空错误的include*/\r\n    this.template = this.template.replace(INCLUDE_ERROR, '');\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/include.js","//常用的方法\r\nimport fn from './fn';\r\n//tmpl的render解析\r\nimport {\r\n\tsetRegExp,\r\n\trender\r\n} from './tmpl-render';\r\n//初始化设置\r\nimport {\r\n\tsetInstance,\r\n\tsetEvent,\r\n\tsetEl\r\n} from './set';\r\n\r\n//router相关\r\nimport {\r\n\tsetRouter,\r\n\tcheckRouterStatus\r\n} from './router';\r\n\r\nexport default function init() {\r\n    //构建开始的钩子\r\n    fn.run(this.config.create, this);\r\n\t//初始配置信息\r\n\tthis.template = setEl.call(this);\r\n\t//初始化方法\r\n\tsetInstance.call(this, 'methods');\r\n\t//初始化数据\r\n\tsetInstance.call(this, 'data');\r\n\t//构建开始后的钩子\r\n    fn.run(this.config.created, this);\r\n\t//初始化路由\r\n\tsetRouter.call(this);\r\n\t//查找模板\r\n\tif(this.template) {\r\n\t\t//创建配置的解析正则\r\n\t\tsetRegExp.call(this);\r\n\t\t//转化为js执行\r\n\t\trender.call(this);\r\n\t}\r\n\t//初始化事件\r\n\tsetEvent.call(this);\r\n\t//设置事件\r\n\tfn.run(this.config.events, this);\r\n\t//所有完毕后的钩子\r\n\tfn.run(this.config.mounted, this);\r\n\t//检查是否存在路由的状态\r\n\tcheckRouterStatus.call(this);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/init.js","/*\r\n *  Render代理实例,针对tmpl中的数据流\r\n * */\r\n\r\n//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n//常用的方法\r\nimport fn from './fn';\r\n\r\nclass Render {\r\n    constructor(opts) {\r\n\r\n        this.init(opts);\r\n\r\n    }\r\n    //初始render类\r\n    init(opts) {\r\n\r\n        this.tmpl = opts.tmpl;\r\n\r\n        this.data = opts.data;\r\n        \r\n//      console.log(this.tmpl.dom);\r\n\r\n        this.dom = new Function('data', this.tmpl.dom).apply(this.tmpl, [this.data]);\r\n\r\n        inBrowser ? (this.fragment = this.tmpl.create(this.dom)) : null;\r\n\r\n    }\r\n    //在父节点中插入解析后的模板\r\n    appendTo(el, cb) {\r\n\r\n        const tmpl = this.tmpl,\r\n            fn = tmpl.fn;\r\n\r\n        if(el.nodeType === 1) el.appendChild(this.fragment);\r\n\r\n        else tmpl.getEl(el).appendChild(this.fragment);\r\n\r\n        fn.cb(cb, this.tmpl);\r\n\r\n        return tmpl;\r\n    }\r\n    //在el子节点ex中插入解析后的模板\t\r\n    insertBefore(el, ex, cb) {\r\n\r\n        const tmpl = this.tmpl,\r\n            fn = tmpl.fn;\r\n\r\n        tmpl.getEl(el).insertBefore(this.fragment, ex);\r\n\r\n        fn.cb(cb, tmpl);\r\n\r\n        return tmpl;\r\n    }\r\n\r\n}\r\n\r\nexport default Render;\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/render.js","/*路由相关*/\r\n\r\n//常用的方法\r\nimport fn from './fn';\r\n\r\n//把路由实例挂靠到模板中\r\nexport function setRouter() {\r\n\tif(fn.isObj(this.config.router)) {\r\n\t\tthis.constructor.router = this.config.router;\r\n\t}\r\n}\r\n\r\n//检查路由状态\r\nexport function checkRouterStatus() {\r\n\t//获取路由\r\n\tconst router = this.constructor.router,\r\n\t\tstatus = this.config.async;\r\n\tif(!(status === false) && router) {\r\n\t\trouter.changeRoutereStatus(true);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/tmpl/router.js"],"sourceRoot":""}
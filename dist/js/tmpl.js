/**
*
*
* tmpl.js v1.0.3
* (c) 2016-2017 Blue
* https://github.com/azhanging/tmpl
* Released under the MIT License.
*
*
**/
!function(t,e){"function"==typeof _require?_require.defineId("tmpl",e):"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("tmpl",[],e):t?t.Tmpl=e():{}}("undefined"!=typeof window?window:this,function(){function t(){}function e(t){this.init(t)}function n(t){this.config=_.extend(_.copy(E),t),this.init()}function r(t,e,n){var r=t.className.split(" ");if(!_.isObj(e)||"replaceBind"!=n&&"replaceClass"!=n)for(var e=e.split(" "),i=0;i<e.length;i++){var o=r.indexOf(e[i]);"bind"==n||"addClass"==n?o==-1&&r.push(e[i]):"unbind"!=n&&"removeClass"!=n||o!=-1&&r.splice(o,1)}else _.each(e,function(t,e){var n=r.indexOf(e);n!=-1&&(r[n]=t)});return t.className=r.join(" "),this}function i(t,e,n){var r=this;_.on(t,e,function(t){var n=t||window.event,i=n.target||n.srcElement,o=r.events[e];_.each(o,function(t,e){r.hasClass(i,e)&&_.each(t,function(t,e){t.apply(r,[n,i])})})}),this.eventType.push(e)}function o(){_.isObj(this.config.router)&&(this.constructor.router=this.config.router)}function s(){this.events={},this.eventType=[]}function a(t){var e=this,n=this.config[t];_.isObj(n)&&_.each(n,function(t,n){e[n]=t})}function l(t){var e="\\/*.?+$^[](){}|'\"";return _.each(e,function(e,n){t=t.replace(new RegExp("\\"+e,"g"),"\\"+e)}),t}function p(){var t=l.call(this,this.config.open_tag),e=l.call(this,this.config.close_tag);b=new RegExp(t+"[^=-][\\s\\S]*?"+e+"|"+t+"=[\\s\\S]*?"+e+"|"+t+"-[\\s\\S]*?"+e,"g"),T=new RegExp(t+"[^=-][\\s\\S]*?"+e,"g"),x=new RegExp(t+"=[\\s\\S]*?"+e,"g"),C=new RegExp(t+"-([\\s\\S]*?)"+e,"g"),S=new RegExp(t+"=","g"),ECHO_ESCAPE_REGEXP_OPEN_TAG=new RegExp(t+"-","g"),w=new RegExp(t,"g"),O=new RegExp(e,"g")}function c(){g||h.call(this),f.call(this),d.call(this),u.call(this);var t=this.template.match(b),e=y.call(this),n=e.split(/___SCRIPT___|___ECHO_SCRIPT___/),r=[];t||(t=[]);var i=n.length>t.length?n:t;_.each(n,function(t,e){n[e]='___.push("'+m(t)+'");'}),_.each(t,function(e,n){x.lastIndex=0,T.lastIndex=0,C.lastIndex=0,x.test(e)?t[n]=e.replace(S,"___.push(").replace(O,");"):T.test(e)?t[n]=e.replace(w,"").replace(O,""):C.test(e)&&(t[n]=e.replace(ECHO_ESCAPE_REGEXP_OPEN_TAG,"___.push(_this_.escape(").replace(O,"));"))}),_.each(i,function(e,i){"string"==typeof n[i]&&r.push(n[i]),"string"==typeof t[i]&&r.push(t[i].replace(A,""))}),this.dom="var _this_ = this,___ = [];"+r.join("")+'return ___.join("");'}function u(){var t,e,n=function(t){return g?(t.template=t.template.replace(I,""),R):(t.template=t.template.replace(R,""),I)}(this),r=this;this.template=this.template.replace(L,""),t=_.unique(this.template.match(n)),e=t.toString().replace(n,"$2").split(","),0!==t.length&&0!==_.trimArr(e).length&&t.length>0&&e.length>0&&e.length===t.length&&(_.each(e,function(e,n){var i=new RegExp(l.call(r,t[n]),"g");if(g){var o=_.getEl(e);o?r.template=r.template.replace(i,r.html(o)):r.template=r.template.replace(i,"")}else try{var s=v.readFileSync(e,{encoding:"UTF8"});r.template=r.template.replace(i,s)}catch(a){r.template=r.template.replace(i,"")}}),t=_.unique(this.template.match(n)),t.length>0&&u.call(this))}function h(){var t=this;f.call(this);var e=_.unique(this.template.match(P)),n=e.toString().replace(P,"$2").split(",")[0];if(""!==n){var r=_.unique(this.template.match(j)),i=v.readFileSync(n,{encoding:"UTF8"}),o=i.match(j),s=o.toString().replace(j,"$2").split(",");_.each(s,function(e,n){var s=new RegExp(l.call(t,o[n]),"g"),a=!1;_.each(r,function(t,r){j.test(t);var l=RegExp.$2,p=RegExp.$3;e===l?(i=i.replace(s,p),a=!0):q.test(l)&&e===l.replace(q,"")?(i=i.replace(s,o[n].replace(j,"$3")+p),a=!0):H.test(l)&&e===l.replace(H,"")&&(i=i.replace(s,p+o[n].replace(j,"$3")),a=!0),j.lastIndex=0}),a||(i=i.replace(s,o[n].replace(j,"$3")))}),t.template=i}}function f(){var t=this,e=this.constructor;_.each(e.alias,function(e,n){t.template=t.template.replace(new RegExp(l.call(t,n),"g"),e)})}function d(){this.template=this.template.replace(P,"").replace(j,"")}function y(){var t=this.template.replace(x,"___ECHO_SCRIPT___").replace(b,"___SCRIPT___");return t}function m(t){return t.replace(A,"").replace(N,'\\"')}var g="undefined"!=typeof window;if(!g)var v=require("fs");!function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1}),g&&!document.getElementsByClassName&&(document.getElementsByClassName=function(t,e){for(var n=(e||document).getElementsByTagName("*"),r=new Array,i=0;i<n.length;i++)for(var o=n[i],s=o.className.split(" "),a=0;a<s.length;a++)if(s[a]==t){r.push(o);break}return r})}();var E={open_tag:"<%",close_tag:"%>",template:"",data:{},methods:{}};t.prototype.isArr=function(t){return t instanceof Array||!(!t||!t.length)},t.prototype.isObj=function(t){return t instanceof Object&&!(t instanceof Array)&&null!==t},t.prototype.isFn=function(t){return"function"==typeof t},t.prototype.isStr=function(t){return"string"==typeof t},t.prototype.isNum=function(t){return"number"==typeof t||!isNaN(t)},t.prototype.isEl=function(t){return!(!t||!t.nodeType)},t.prototype.on=function(){if(g)return"function"==typeof document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)}}(),t.prototype.off=function(){if(g)return"function"==typeof document.removeEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)}}(),t.prototype.each=function(t,e){var n=0,r=t.length;if(this.isArr(t))for(;n<r;n++)e(t[n],n);else for(n in t)t.hasOwnProperty(n)&&e(t[n],n)},t.prototype.getEl=function(t){if(!t)return null;if(!this.isFn(document.querySelector))return document.getElementById(t);var e=document.querySelector(t),n=document.getElementById(t);return null!==e?e:n?n:null},t.prototype.getEls=function(t){if(!t)return null;if(!this.isFn(document.querySelectorAll))return document.getElementsByClassName(t);var e=document.querySelectorAll(t),n=document.getElementsByClassName(t);return e.length>0?e:n?n:[]},t.prototype.extend=function(t,e){return this.each(e,function(e,n){t[n]=e}),t},t.prototype.cb=function(t,e,n){n=n?n:[],this.isFn(t)?t.apply(e,n):null},t.prototype.run=function(t,e,n){this.cb(t,e,n)},t.prototype.unique=function(t){if(!this.isArr(t))return[];var e=[];return this.each(t,function(t,n){e.indexOf(t)===-1&&e.push(t)}),e},t.prototype.trimArr=function(t){var e=[];return this.each(t,function(t,n){""!==t&&e.push(t)}),e},t.prototype.copy=function(t){return this.isObj(t)||this.isArr(t)?JSON.parse(JSON.stringify(t)):null},t.prototype.ajax=function(t){var e=this,n=new XMLHttpRequest;t.type=t.type?t.type.toUpperCase():"GET",n.timeout=t.timeout&&t.async!==!1?t.timeout:0,"GET"===t.type?n.open(t.type,function(){return t.url.indexOf("?")?t.url+e.serialize(t.data):t.url+"?"+e.serialize(t.data)}(),t.async):"POST"===t.type&&n.open(t.type,t.url,t.async),n.setRequestHeader("Content-Type",t.contentType?t.contentType:"application/x-www-form-urlencoded; charset=UTF-8"),n.addEventListener("readystatechange",function(){try{var r=JSON.parse(n.responseText)}catch(i){var r=n.responseText}4==n.readyState&&(200==n.status?e.cb(t.success,e,[r]):n.status>=400&&e.cb(t.error,e,[r]))},!1),"GET"===t.type?n.send():"POST"===t.type&&n.send(this.serialize(t.data))},t.prototype.serialize=function(t){var e="";return this.isObj(t)&&this.isArr(t)?(this.each(t,function(t,n){e=e+n+"="+encodeURIComponent(t)+"&"}),e.substring(0,e.length-1)):""};var _=new t;e.prototype.init=function(t){this.tmpl=t.tmpl,this.data=t.data,this.dom=new Function("data",this.tmpl.dom).apply(this.tmpl,[this.data]),this.fragment=this.tmpl.create(this.dom)},e.prototype.appendTo=function(t,e){var n=this.tmpl.fn;return 1===t.nodeType?t.appendChild(this.fragment):n.getEl(t).appendChild(this.fragment),n.cb(e,this.tmpl),this.tmpl},e.prototype.insertBefore=function(t,e){var n=this.tmpl.fn;return n.getEl(t).insertBefore(this.fragment,e),n.cb(cb,this.tmpl),this.tmpl},n.install=function(t){t.install(this)},n.alias={},n.prototype.init=function(){var t=this;_.run(this.config.created,this),this.el=function(){return g?_.getEl(t.config.el):t.config.el}(),a.call(this,"methods"),a.call(this,"data"),o.call(this),this.el&&(this.template=function(){return g?(t.config.template=t.el.innerHTML,t.el.innerHTML):(t.config.template=t.el,t.el)}(),p.call(this),c.call(this)),s.call(this),_.run(this.config.mounted,this),_.run(this.config.events,this)},n.prototype.render=function(t){var n=this;return new e({tmpl:n,data:t})},n.prototype.update=function(){this.template=this.config.template,c.call(this)},n.prototype.on=function(t,e,n,r){if(4===arguments.length)return this.eventType.indexOf(n)==-1&&i.apply(this,[t,n,r]),this.events[n]||(this.events[n]={}),this.events[n][e]||(this.events[n][e]=[]),this.events[n][e].push(r),this;if(3===arguments.length){var o=this;return r=n,n=e,_.on(t,n,function(t){r.call(o,t)}),this}},n.prototype.off=function(t,e,n,r){if(4===arguments.length){var i=this.events[n][e].indexOf(r);i!=-1&&this.events[n][e].splice(i,1)}else 3===arguments.length&&_.off(t,n,r);return this},n.prototype.fn=_,n.prototype.bind=function(t,e){return r.apply(this,[t,e,"bind"]),this},n.prototype.unbind=function(t,e){return r.apply(this,[t,e,"unbind"]),this},n.prototype.replaceBind=function(t,e){return r.apply(this,[t,e,"replaceBind"]),this},n.prototype.addClass=function(t,e){return r.apply(this,[t,e,"addClass"]),this},n.prototype.removeClass=function(t,e){return r.apply(this,[t,e,"removeClass"]),this},n.prototype.replaceClass=function(t,e){return r.apply(this,[t,e,"replaceClass"]),this},n.prototype.hasClass=function(t,e){try{for(var n=t.className.split(" "),r=e.split(" "),i=0,o=0;o<r.length;o++)n.indexOf(r[o])!==-1&&++i;return i===r.length}catch(s){return!1}},n.prototype.attr=function(t,e){var n=this;if(_.isObj(e))return _.each(e,function(e,n){"boolean"==typeof e?(t[n]=e,t.setAttribute(n,e)):""===e?t.removeAttribute(n):t.setAttribute(n,e)}),this;if(e instanceof Array){var r=[];return _.each(e,function(e,i){r.push(n.attr(t,e))}),r}return/^bind-\S*/.test(e)?new Function("return "+t.getAttribute(e)+";").apply(this):t.getAttribute(e)},n.prototype.prop=function(t,e){return _.isObj(e)?(_.each(e,function(e,n){t[n]=e}),this):_.isStr(e)?/^bind-\S*/.test(e)?new Function("return "+t[e]+";").apply(this):t[e]:void 0},n.prototype.html=function(t,e){return void 0===e?t.innerHTML:(t.innerHTML=e,this)},n.prototype.val=function(t,e){return void 0===e?t.value:(t.value=e,this)},n.prototype.text=function(t,e){return void 0===e?t.textContent:(t.textContent=e,this)},n.prototype.parent=function(t,e){var n=t.parentNode;return n===document||null===n?null:e?this.hasClass(n,e)?n:this.parent(n,e):n},n.prototype.parents=function(t,e,n){var r=t.parentNode;return n=n?n:[],r===document||null===r?null:(this.hasClass(r,e)&&n.push(r),this.parents(r,e,n),n)},n.prototype.children=function(t){var e=[];return _.each(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},n.prototype.childrens=function(t,e,n){var r=0;for(n=n?n:[];r<t.children.length;r++)this.hasClass(t.children[r],e)&&n.push(t.children[r]),this.childrens(t.children[r],e,n);return n},n.prototype.next=function(t){var e=t.nextSibling;return null===e?null:1!==e.nodeType?this.next(e):e},n.prototype.nextAll=function(t){return this.siblings(t,"nextAll")},n.prototype.prevAll=function(t){return this.siblings(t,"prevAll")},n.prototype.prev=function(t){var e=t.previousSibling;return null===e?null:1!==e.nodeType?this.prev(e):e},n.prototype.siblings=function(t,e){var n=this.parent(t);if(null===n)return null;var r=n.children,i=[],o=0;for("nextAll"===e&&(o=Array.prototype.indexOf.call(r,t));o<r.length;o++)if(r[o]!==t&&i.push(r[o]),"prevAll"===e&&r[o]===t)return i;return i},n.prototype.hide=function(t,e){var n=this.css(t,"opacity");return t.opacity=n?n:1,_.isNum(e)?this.animate(t,{opacity:0},e,function(){t.style.display="none"}):t.style.display="none",this},n.prototype.show=function(t,e){var n=t.opactiy?t.opactiy:100;return _.isNum(e)?(this.css(t,{opacity:0}),t.style.display="",this.animate(t,{opacity:n},e)):t.style.display="",this},n.prototype.toggle=function(t,e){var n=this;""===t.style.display?n.hide(t,e):n.show(t,e)},n.prototype.animate=function(t,e,n,r){var i=this;t&&(t.timer=setInterval(function(){var n=!0;_.each(e,function(r,o){var s=0,a=0;if("opacity"===o)a=100*Number(i.css(t,"opacity"));else if("scrollTop"===o){a=Math.ceil(document.documentElement.scrollTop||document.body.scrollTop);var l=Math.ceil(document.body.scrollHeight-window.innerHeight);r>l&&(r=l,e.scrollTop=l)}else a=parseInt(i.css(t,o));s=(r-a)/8,s=s>0?Math.ceil(s):Math.floor(s);var p={};"opacity"===o?(p.opacity=(a+s)/100,i.css(t,p)):"scrollTop"===o?i.setScrollTop(a+s):(p[o]=a+s+"px",i.css(t,p)),parseInt(r)!==a&&(n=!1)}),n&&(clearInterval(t.timer),_.cb(r,i))},n/60))},n.prototype.css=function(t,e){return _.isStr(e)?this.curCss(t,e):_.isObj(e)?(this.setStyle(t,e),this):void 0},n.prototype.camelCase=function(t,e){var n,r=/[A-Z]/g,i=/-[a-z]/g;return _.isStr(t)?(n=e?t.match(i):t.match(r),n=n?n:[],_.each(n,function(n,r){t=e?t.replace(n,n.replace(/-/g,"").toUpperCase()):t.replace(n,"-"+n.toLowerCase())}),t):t},n.prototype.curCss=function(t,e){if(window.getComputedStyle){var n=this.camelCase(e,!0);return window.getComputedStyle(t,null)[n]}if(document.documentElement.currentStyle){var n=this.camelCase(e,!1);return document.documentElement.currentStyle[n]}},n.prototype.setStyle=function(t,e){_.each(e,function(e,n){t.style[n]=e})},n.prototype.remove=function(t){try{t.remove()}catch(e){var n=this.parent(t);null!==n?n.removeChild(t):console.warn("element remove error!")}return this},n.prototype.create=function(t){var e=t;if(g){e=document.createDocumentFragment();var n=document.createElement("div");for(n.innerHTML=t;0!==n.childNodes.length;){var r=n.childNodes[0],i=r.innerHTML;if("SCRIPT"===r.tagName){var o=document.createElement("script");o.innerHTML=i,_.each(r.attributes,function(t){o.setAttribute(t.name,t.value)}),this.remove(r),r=o}e.appendChild(r)}}return e},n.prototype.append=function(t,e){return 1===t.nodeType?t.appendChild(e):_.getEl(t).appendChild(e),this},n.prototype.cb=function(t){return _.cb(t,this),this},n.prototype.preventDefault=function(t){var e=t||window.event;e.stopPropagation(),e.cancelBubble=!0},n.prototype.offset=function(t){var e=t.getBoundingClientRect(),n=document.documentElement,r=document.body,i=window,o=n.clientTop||r.clientTop||0,s=n.clientLeft||r.clientLeft||0,a=i.pageYOffset||n.scrollTop,l=i.pageXOffset||n.scrollLeft;return{top:e.top+a-o,left:e.left+l-s}},n.prototype.setScrollTop=function(t,e){document.body.scrollTop=t,document.documentElement.scrollTop=t},n.prototype.escape=function(t){return _.each(B,function(e,n){t=t.replace(new RegExp(n,"g"),e)}),t};var b,T,x,C,S,w,O,A=/[\b\t\r\f\n]/g,N=/"/g,R=/<tmpl-include .*?name=(\'|\")(\S*?)\1.*?\/>/g,I=/<tmpl-include .*?file=(\'|\")(\S*?)\1.*?\/>/g,L=/<tmpl-include\s*?\/>/g,j=/<tmpl-block .*?name=(\'|\")(\S*?)\1.*?>([\s\S]*?)<\/tmpl-block>/g,q=/^append:/,H=/^insert:/,P=/<tmpl-extend .*?file=(\'|\")(\S*?)\1.*?\/>/g,B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return n.version="v1.0.4",n});
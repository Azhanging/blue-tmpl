/**
*
*
* tmpl.js v1.0.2
* (c) 2016-2017 Blue
* https://github.com/azhanging/tmpl
* Released under the MIT License.
*
*
**/
!function(t,e){"function"==typeof _require?_require.defineId("tmpl",e):"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("tmpl",[],e):t?t.Tmpl=e():{}}("undefined"!=typeof window?window:this,function(){function t(){}function e(t){this.init(t)}function n(t){this.config=j.extend(j.copy(L),t),this.init()}function i(t,e,n){var i=t.className.split(" ");if(!j.isObj(e)||"replaceBind"!=n&&"replaceClass"!=n)for(var e=e.split(" "),r=0;r<e.length;r++){var o=i.indexOf(e[r]);"bind"==n||"addClass"==n?o==-1&&i.push(e[r]):"unbind"!=n&&"removeClass"!=n||o!=-1&&i.splice(o,1)}else j.each(e,function(t,e){var n=i.indexOf(e);n!=-1&&(i[n]=t)});return t.className=i.join(" "),this}function r(t,e,n){var i=this;j.on(t,e,function(t){var n=t||window.event,r=n.target||n.srcElement,o=i.events[e];j.each(o,function(t,e){i.hasClass(r,e)&&j.each(t,function(t,e){t.apply(i,[n,r])})})}),this.eventType.push(e)}function o(){j.isObj(this.config.router)&&(this.router=this.config.router)}function s(){this.events={},this.eventType=[]}function l(t){var e=this,n=this.config[t];j.isObj(n)&&j.each(n,function(t,n){e[n]=t})}function a(t){var e="\\/*.?+$^[](){}|'\"";return j.each(e,function(e,n){t=t.replace(new RegExp("\\"+e,"g"),"\\"+e)}),t}function p(){var t=a.call(this,this.config.open_tag),e=a.call(this,this.config.close_tag);g=new RegExp(t+"[^=][\\s\\S]*?"+e+"|"+t+"=[\\s\\S]*?"+L.close_tag,"g"),v=new RegExp(t+"=[\\s\\S]*?"+e,"g"),b=new RegExp(t+"=","g"),T=new RegExp(t,"g"),S=new RegExp(e,"g")}function c(){N||h.call(this),f.call(this),d.call(this),u.call(this);var t=this.template.match(g),e=this.template.match(v),n=y.call(this),i=n.split(/___SCRIPT___|___ECHO_SCRIPT___/),r=[];t||(t=[]),e||(e=[]);var o=i.length>t.length?i:t;j.each(i,function(t,e){i[e]='___.push("'+m(t)+'");'}),j.each(t,function(e,n){v.lastIndex=0,v.test(e)?t[n]=e.replace(b,"___.push(").replace(S,");"):t[n]=e.replace(T,"").replace(S,"")}),j.each(o,function(e,n){"string"==typeof i[n]&&r.push(i[n]),"string"==typeof t[n]&&r.push(t[n].replace(E,""))}),this.dom="var _this_ = this,___ = [];"+r.join("")+'return ___.join("");'}function u(){var t,e,n=function(){return N?C:x}(),i=this;this.template=this.template.replace(w,""),t=j.unique(this.template.match(n)),e=t.toString().replace(n,"$2").split(","),0!==t.length&&0!==j.trimArr(e).length&&t.length>0&&e.length>0&&e.length===t.length&&(j.each(e,function(e,n){var r=new RegExp(a.call(i,t[n]),"g");if(N){var o=j.getEl(e);o?i.template=i.template.replace(r,i.html(o)):i.template=i.template.replace(r,"")}else try{var s=R.readFileSync(e,{encoding:"UTF8"});i.template=i.template.replace(r,s)}catch(l){i.template=i.template.replace(r,"")}}),t=j.unique(this.template.match(n)),t.length>0&&u.call(this))}function h(){var t=this;f.call(this);var e=j.unique(this.template.match(A)),n=e.toString().replace(A,"$2").split(",")[0];if(""!==n){var i=j.unique(this.template.match(O)),r=R.readFileSync(n,{encoding:"UTF8"}),o=r.match(O),s=o.toString().replace(O,"$2").split(",");j.each(s,function(e,n){var s=new RegExp(a.call(t,o[n]),"g"),l=!1;j.each(i,function(t,n){O.test(t),e===RegExp.$2&&(r=r.replace(s,RegExp.$3),l=!0),O.lastIndex=0}),l||(r=r.replace(s,""))}),t.template=r}}function f(){var t=this,e=this.constructor;j.each(e.alias,function(e,n){t.template=t.template.replace(new RegExp(a.call(t,n),"g"),e)})}function d(){this.template=this.template.replace(A,"").replace(O,"")}function y(){var t=this.template.replace(v,"___ECHO_SCRIPT___").replace(g,"___SCRIPT___");return t}function m(t){return t.replace(E,"").replace(_,'\\"')}var g,v,b,T,S,E=/[\\\b\\\t\\\r\\\f\\\n]/g,_=/"/g,C=/<tmpl-include .*?name=(\'|\")(\S*?)\1.*?>[\s\S]*?<\/tmpl-include>/g,x=/<tmpl-include .*?file=(\'|\")(\S*?)\1.*?>[\s\S]*?<\/tmpl-include>/g,w=/<tmpl-include\s*?>[\s\S]*?<\/tmpl-include>/g,O=/<tmpl-block .*?name=(\'|\")(\S*?)\1.*?>([\s\S]*?)<\/tmpl-block>/g,A=/<tmpl-extends .*?file=(\'|\")(\S*?)\1.*?>[\s\S]*?<\/tmpl-extends>/g,N="undefined"!=typeof window;if(!N)var R=require("fs");!function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1}),N&&!document.getElementsByClassName&&(document.getElementsByClassName=function(t,e){for(var n=(e||document).getElementsByTagName("*"),i=new Array,r=0;r<n.length;r++)for(var o=n[r],s=o.className.split(" "),l=0;l<s.length;l++)if(s[l]==t){i.push(o);break}return i})}();var L={open_tag:"<%",close_tag:"%>",template:"",data:{},methods:{}};t.prototype.isArr=function(t){return t instanceof Array},t.prototype.isObj=function(t){return t instanceof Object&&!(t instanceof Array)&&null!==t},t.prototype.isFn=function(t){return"function"==typeof t},t.prototype.isStr=function(t){return"string"==typeof t},t.prototype.isNum=function(t){return"number"==typeof t||!isNaN(t)},t.prototype.isEl=function(t){return!(!t||!t.nodeType)},t.prototype.on=function(){if(N)return"function"==typeof document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)}}(),t.prototype.off=function(){if(N)return"function"==typeof document.removeEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)}}(),t.prototype.each=function(t,e){var n=0,i=t.length;if(this.isArr(t))for(;n<i;n++)e(t[n],n);else for(n in t)t.hasOwnProperty(n)&&e(t[n],n)},t.prototype.getEl=function(t){if(!t)return null;if(!this.isFn(document.querySelector))return document.getElementById(t);var e=document.querySelector(t),n=document.getElementById(t);return null!==e?e:n?n:null},t.prototype.getEls=function(t){if(!t)return null;if(!this.isFn(document.querySelectorAll))return document.getElementsByClassName(t);var e=document.querySelectorAll(t),n=document.getElementsByClassName(t);return e.length>0?e:n?n:[]},t.prototype.extend=function(t,e){return this.each(e,function(e,n){t[n]=e}),t},t.prototype.cb=function(t,e,n){n=n?n:[],this.isFn(t)?t.apply(e,n):null},t.prototype.run=function(t,e,n){this.cb(t,e,n)},t.prototype.unique=function(t){if(!this.isArr(t))return[];var e=[];return this.each(t,function(t,n){e.indexOf(t)===-1&&e.push(t)}),e},t.prototype.trimArr=function(t){var e=[];return this.each(t,function(t,n){""!==t&&e.push(t)}),e},t.prototype.copy=function(t){return this.isObj(t)||this.isArr(t)?JSON.parse(JSON.stringify(t)):null},t.prototype.ajax=function(t){var e=this,n=new XMLHttpRequest;t.type=t.type?t.type.toUpperCase():"GET",n.timeout=t.timeout&&t.async!==!1?t.timeout:0,"GET"===t.type?n.open(t.type,function(){return t.url.indexOf("?")?t.url+e.serialize(t.data):t.url+"?"+e.serialize(t.data)}(),t.async):"POST"===t.type&&n.open(t.type,t.url,t.async),n.setRequestHeader("Content-Type",t.contentType?t.contentType:"application/x-www-form-urlencoded; charset=UTF-8"),n.addEventListener("readystatechange",function(){try{var i=JSON.parse(n.responseText)}catch(r){var i=n.responseText}4==n.readyState&&(200==n.status?e.cb(t.success,e,[i]):n.status>=400&&e.cb(t.error,e,[i]))},!1),"GET"===t.type?n.send():"POST"===t.type&&n.send(this.serialize(t.data))},t.prototype.serialize=function(t){var e="";return this.isObj(t)&&this.isArr(t)?(this.each(t,function(t,n){e=e+n+"="+encodeURIComponent(t)+"&"}),e.substring(0,e.length-1)):""};var j=new t;return e.prototype.init=function(t){this.tmpl=t.tmpl,this.data=t.data,this.dom=new Function("data",this.tmpl.dom).apply(this.tmpl,[this.data]),this.fragment=this.setDom()},e.prototype.setDom=function(){return this.tmpl.create(this.dom)},e.prototype.appendTo=function(t,e){var n=this.tmpl.fn;return 1===t.nodeType?t.appendChild(this.fragment):n.getEl(t).appendChild(this.fragment),n.cb(e,this.tmpl),this.tmpl},e.prototype.insertBefore=function(t,e){var n=this.tmpl.fn;return n.getEl(t).insertBefore(this.fragment,e),n.cb(cb,this.tmpl),this.tmpl},n.install=function(t){t.install(this)},n.alias={},n.prototype.init=function(){var t=this;j.run(this.config.created,this),this.el=function(){return N?j.getEl(t.config.el):t.config.el}(),l.call(this,"methods"),l.call(this,"data"),o.call(this),this.el&&(this.template=function(){return N?(t.config.template=t.el.innerHTML,t.el.innerHTML):(t.config.template=t.el,t.el)}(),p.call(this),c.call(this)),s.call(this),j.run(this.config.mounted,this),j.run(this.config.events,this)},n.prototype.render=function(t){var n=this;return new e({tmpl:n,data:t})},n.prototype.update=function(){this.template=this.config.template,c.call(this)},n.prototype.on=function(t,e,n,i){if(4===arguments.length)return this.eventType.indexOf(n)==-1&&r.apply(this,[t,n,i]),this.events[n]||(this.events[n]={}),this.events[n][e]||(this.events[n][e]=[]),this.events[n][e].push(i),this;if(3===arguments.length){var o=this;return i=n,n=e,j.on(t,n,function(t){i.call(o,t)}),this}},n.prototype.off=function(t,e,n,i){if(4===arguments.length){var r=this.events[n][e].indexOf(i);r!=-1&&this.events[n][e].splice(r,1)}else 3===arguments.length&&j.off(t,n,i);return this},n.prototype.fn=j,n.prototype.bind=function(t,e){return i.apply(this,[t,e,"bind"]),this},n.prototype.unbind=function(t,e){return i.apply(this,[t,e,"unbind"]),this},n.prototype.replaceBind=function(t,e){return i.apply(this,[t,e,"replaceBind"]),this},n.prototype.addClass=function(t,e){return i.apply(this,[t,e,"addClass"]),this},n.prototype.removeClass=function(t,e){return i.apply(this,[t,e,"removeClass"]),this},n.prototype.replaceClass=function(t,e){return i.apply(this,[t,e,"replaceClass"]),this},n.prototype.hasClass=function(t,e){try{for(var n=t.className.split(" "),i=e.split(" "),r=0,o=0;o<i.length;o++)n.indexOf(i[o])!==-1&&++r;return r===i.length}catch(s){return!1}},n.prototype.attr=function(t,e){var n=this;if(j.isObj(e))return j.each(e,function(e,n){"boolean"==typeof e?(t[n]=e,t.setAttribute(n,e)):""===e?t.removeAttribute(n):t.setAttribute(n,e)}),this;if(e instanceof Array){var i=[];return j.each(e,function(e,r){i.push(n.attr(t,e))}),i}return/^bind-\S*/.test(e)?new Function("return "+t.getAttribute(e)+";").apply(this):t.getAttribute(e)},n.prototype.prop=function(t,e){return j.isObj(e)?(j.each(e,function(e,n){t[n]=e}),this):j.isStr(e)?/^bind-\S*/.test(e)?new Function("return "+t[e]+";").apply(this):t[e]:void 0},n.prototype.html=function(t,e){return void 0===e?t.innerHTML:(t.innerHTML=e,this)},n.prototype.val=function(t,e){return void 0===e?t.value:(t.value=e,this)},n.prototype.text=function(t,e){return void 0===e?t.textContent:(t.textContent=e,this)},n.prototype.parent=function(t,e){var n=t.parentNode;return n===document||null===n?null:e?this.hasClass(n,e)?n:this.parent(n,e):n},n.prototype.parents=function(t,e,n){var i=t.parentNode;return n=n?n:[],i===document||null===i?null:(this.hasClass(i,e)&&n.push(i),this.parents(i,e,n),n)},n.prototype.children=function(t){var e=[];return j.each(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},n.prototype.childrens=function(t,e,n){var i=0;for(n=n?n:[];i<t.children.length;i++)this.hasClass(t.children[i],e)&&n.push(t.children[i]),this.childrens(t.children[i],e,n);return n},n.prototype.next=function(t){var e=t.nextSibling;return null===e?null:1!==e.nodeType?this.next(e):e},n.prototype.nextAll=function(t){return this.siblings(t,"nextAll")},n.prototype.prevAll=function(t){return this.siblings(t,"prevAll")},n.prototype.prev=function(t){var e=t.previousSibling;return null===e?null:1!==e.nodeType?this.prev(e):e},n.prototype.siblings=function(t,e){var n=this.parent(t);if(null===n)return null;var i=n.children,r=[],o=0;for("nextAll"===e&&(o=Array.prototype.indexOf.call(i,t));o<i.length;o++)if(i[o]!==t&&r.push(i[o]),"prevAll"===e&&i[o]===t)return r;return r},n.prototype.hide=function(t,e){var n=this.css(t,"opacity");return t.opacity=n?n:1,j.isNum(e)?this.animate(t,{opacity:0},e,function(){t.style.display="none"}):t.style.display="none",this},n.prototype.show=function(t,e){var n=t.opactiy?t.opactiy:100;return j.isNum(e)?(this.css(t,{opacity:0}),t.style.display="",this.animate(t,{opacity:n},e)):t.style.display="",this},n.prototype.toggle=function(t,e){var n=this;""===t.style.display?n.hide(t,e):n.show(t,e)},n.prototype.animate=function(t,e,n,i){var r=this;t&&(t.timer=setInterval(function(){var n=!0;j.each(e,function(i,o){var s=0,l=0;if("opacity"===o)l=100*Number(r.css(t,"opacity"));else if("scrollTop"===o){l=Math.ceil(document.documentElement.scrollTop||document.body.scrollTop);var a=Math.ceil(document.body.scrollHeight-window.innerHeight);i>a&&(i=a,e.scrollTop=a)}else l=parseInt(r.css(t,o));s=(i-l)/8,s=s>0?Math.ceil(s):Math.floor(s);var p={};"opacity"===o?(p.opacity=(l+s)/100,r.css(t,p)):"scrollTop"===o?r.setScrollTop(l+s):(p[o]=l+s+"px",r.css(t,p)),parseInt(i)!==l&&(n=!1)}),n&&(clearInterval(t.timer),j.cb(i,r))},n/60))},n.prototype.css=function(t,e){return j.isStr(e)?this.curCss(t,e):j.isObj(e)?(this.setStyle(t,e),this):void 0},n.prototype.camelCase=function(t,e){var n,i=/[A-Z]/g,r=/-[a-z]/g;return j.isStr(t)?(n=e?t.match(r):t.match(i),n=n?n:[],j.each(n,function(n,i){t=e?t.replace(n,n.replace(/-/g,"").toUpperCase()):t.replace(n,"-"+n.toLowerCase())}),t):t},n.prototype.curCss=function(t,e){if(window.getComputedStyle){var n=this.camelCase(e,!0);return window.getComputedStyle(t,null)[n]}if(document.documentElement.currentStyle){var n=this.camelCase(e,!1);return document.documentElement.currentStyle[n]}},n.prototype.setStyle=function(t,e){j.each(e,function(e,n){t.style[n]=e})},n.prototype.remove=function(t){try{t.remove()}catch(e){var n=this.parent(t);null!==n?n.removeChild(t):console.warn("element remove error!")}return this},n.prototype.create=function(t){var e=t;if(N){e=document.createDocumentFragment();var n=document.createElement("div");for(n.innerHTML=t;0!==n.childNodes.length;){var i=n.childNodes[0],r=i.innerHTML;if("SCRIPT"===i.tagName){var o=document.createElement("script");o.innerHTML=r,j.each(i.attributes,function(t){o.setAttribute(t.name,t.value)}),this.remove(i),i=o}e.appendChild(i)}}return e},n.prototype.append=function(t,e){return 1===t.nodeType?t.appendChild(e):j.getEl(t).appendChild(e),this},n.prototype.cb=function(t){return j.cb(t,this),this},n.prototype.preventDefault=function(t){var e=t||window.event;e.stopPropagation(),e.cancelBubble=!0},n.prototype.offset=function(t){var e=t.getBoundingClientRect(),n=document.documentElement,i=document.body,r=window,o=n.clientTop||i.clientTop||0,s=n.clientLeft||i.clientLeft||0,l=r.pageYOffset||n.scrollTop,a=r.pageXOffset||n.scrollLeft;return{top:e.top+l-o,left:e.left+a-s}},n.prototype.setScrollTop=function(t,e){document.body.scrollTop=t,document.documentElement.scrollTop=t},n.prototype.htmlEncode=function(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.version="v1.0.2",n});
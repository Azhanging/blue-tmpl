commit!function(t,i){"function"==typeof _require?_require.defineId("tmpl-router",i):t?t.TmplRouter=i():{}}("undefined"!=typeof window?window:this,function(){function t(t){this.init(t)}function i(){var t=this;this.alias={},this.paths=[],r.each(this.config.router,function(i,n){var o=i.alias;t.paths.push(n),o&&(t.alias[o]=n)})}function n(){var t=this;window.hasTmplRouter||r.on(window,"hashchange",function(i){window.location.hash;t.hashChange(),a.preventDefault(i)})}function o(t){var i=this,n=this.config[t];r.isObj(n)&&r.each(n,function(t,n){i[n]=t})}var s={routerLink:"tmpl-router",activeClassName:"tmpl-router-active",data:{},methods:{},error:function(){}},e=null,a=null,r=null;return t.install=function(i){return this.installed?t:(this.installed=!0,e=i,a=new e({}),void(r=a.fn))},window.Tmpl&&t.install(Tmpl),t.prototype={constructor:t,init:function(t){this.config=r.extend(r.copy(s),t),this.router=this.config.router?this.config.router:{},this.tmpl=a,o.call(this,"methods"),o.call(this,"data"),i.call(this),n.call(this),r.run(this.config.mounted,this)},set:function(t){var i=this;return r.isObj(t)&&r.each(t,function(t,n){i.router[n]=function(n){t.apply(i,n)}}),this},hashChange:function(){var t=this,i=window.location.hash.replace("#",""),n=r.getEls(this.config.routerLink),o=null,s=null;return""===i&&(i="/"),this.alias[i]&&(i=this.alias[i]),0===n.length?this:(r.each(n,function(n,e){var l=a.attr(n,"href").replace("#",""),h=a.attr(n,"view");l===i?(o=r.getEl(h),s=t.router[i].cb,a.addClass(n,t.config.activeClassName),r.isEl(o)?a.show(o):null,r.isFn(s)&&s.apply(t,[n,o,i])):(o=r.getEl(h),a.removeClass(n,t.config.activeClassName),r.isEl(o)?a.hide(o):null)}),void(this.alias[i]||this.router[i]||this.config.error.call(this)))},go:function(t){r.isNum(t)&&history.go(1)},redirect:function(t){var i=location.href.split("#");"/"===t?location.href=i[0]:(i[1]=t,location.href=i.join("#"))}},t.version="v1.0.0",t});
/*!
 * 
 * blue-tmpl.js 1.1.2
 * (c) 2016-2017 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-tmpl
 * time:Mon, 10 Sep 2018 08:18:18 GMT
 * 		
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("fs")):"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.BlueTmpl=e(require("fs")):t.BlueTmpl=e(t[void 0])}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./static",n(n.s=6)}([function(t,e,n){"use strict";var i=n(1);class s{nullPlainObject(t){return"{}"===JSON.stringify(t)}isStr(t){return"string"==typeof t}isFn(t){return"function"==typeof t}isNum(t){return"number"==typeof t||!isNaN(t)}isEl(t){return!(!t||!t.nodeType)}isPlainObject(t){return t&&null!==t&&"[object Object]"===t.toString()}isArray(t){return t instanceof Array}isObjcet(t){return this.isPlainObject(t)||this.isArray(t)}isDef(t){return void 0!==t&&null!==t}isUndef(t){return void 0===t||null===t}isBlankSpace(t){return 0===t.trim().length}isTrue(t){return!0===t}isFalse(t){return!1===t}run(t,e=function(){},n=[]){e.apply(t,n)}each(t,e,n=!1){if(this.isUndef(t))return;let i=0,s=0,r=[];const a=t.length;if(this.isArray(t))for(;i<a;i++)n?r.push(e(t[i],i)):e(t[i],i);else for(i in t)t.hasOwnProperty(i)&&(n?r.push(e(t[i],i,s++)):e(t[i],i,s++));return n?r:void 0}definePropertyVal(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!1,value:n})}deepCopy(t){if(!t||!(t instanceof Array)&&"[object Object]"!==t.toString())return t;const e=t instanceof Array?[]:{};for(let n in t)t.hasOwnProperty(n)&&(t instanceof Array||t instanceof Object?e[n]=this.deepCopy(t[n]):e[n]=t[n]);return e}extend(t,e){t=this.deepCopy(t);const n=this.each(t,(t,e)=>e,!0);return this.each(e,(e,i)=>{const s=n.indexOf(i);-1!=s&&n.splice(s,1),this.isPlainObject(e)&&(t[i]||(t[i]={}),this.extend(t[i],e)),t[i]=e}),this.each(n,n=>{e[n]=t[n]}),t}cb(t,e,n){n=n||[],this.isFn(t)&&t.apply(e,n)}unique(t){if(!this.isArr(t))return[];let e=[];return this.each(t,(t,n)=>{-1===e.indexOf(t)&&e.push(t)}),e}trimArr(t){let e=[];return this.each(t,(t,n)=>{""!==t&&e.push(t)}),e}serialize(t){let e="";return this.isObj(t)&&this.isArr(t)?(this.each(t,(t,n)=>{e=e+n+"="+encodeURIComponent(t)+"&"}),e.substring(0,e.length-1)):""}initRegExp(t){return this.each("\\/*.?+$^[](){}|'\"",(e,n)=>{t=t.replace(new RegExp("\\"+e,"g"),"\\"+e)}),t}run(t,e,n){this.cb(t,e,n)}copy(t,e){r.each(e,(e,n)=>{t[n]=e})}getRegExp(t){return this.each("\\/*.?+$^[](){}|'\"",(e,n)=>{t=t.replace(new RegExp("\\"+e,"g"),"\\"+e)}),t}getObjLen(t){let e=0;return this.each(t,()=>{++e}),e}}s.prototype.on=function(){if(i.a)return"function"==typeof document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)}}(),s.prototype.off=function(){if(i.a)return"function"==typeof document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)}}();const r=new s;e.a=r},function(t,e,n){"use strict";const i="undefined"!=typeof window;e.a=i},function(t,e,n){"use strict";e.c=function(){const t=s.a.initRegExp(this.$config.open_tag),e=s.a.initRegExp(this.$config.close_tag);c=new RegExp(t+"[^=-][\\s\\S]*?"+e+"|"+t+"=[\\s\\S]*?"+e+"|"+t+"-[\\s\\S]*?"+e,"g"),o=new RegExp(t+"[^=-][\\s\\S]*?"+e,"g"),u=new RegExp(t+"=([\\s\\S]*?)"+e,"g"),p=new RegExp(t+"-([\\s\\S]*?)"+e,"g"),h=new RegExp(t+"=","g"),d=new RegExp(t+"-","g"),f=new RegExp(t,"g"),m=new RegExp(e,"g")},e.a=function(){i.a||(a.a.call(this),function(){this.$template=this.$template.replace(l.d,"").replace(l.a,"")}.call(this));g.call(this),r.a.call(this);let t=this.$template.match(c)||[];const e=function(){return this.$template.replace(u,"___ECHO_SCRIPT___").replace(c,"___SCRIPT___")}.call(this).split(/___SCRIPT___|___ECHO_SCRIPT___/),n=[],y=e.length>t.length?e:t;s.a.each(e,(t,n)=>{e[n]='___.push("'+t.replace(l.e,"").replace(/\n/g,"\\n").replace(l.i,'\\"')+'");'}),s.a.each(t,(e,n)=>{u.lastIndex=0,o.lastIndex=0,p.lastIndex=0,u.test(e)?t[n]=e.replace(h,"___.push(").replace(m,");"):o.test(e)?t[n]=e.replace(f,"").replace(m,""):p.test(e)&&(t[n]=e.replace(d,"___.push(_this_.escape(").replace(m,"));"))}),s.a.each(y,(i,r)=>{s.a.isStr(e[r])&&n.push(e[r]),s.a.isStr(t[r])&&n.push(t[r].replace(l.e,""))}),this.vTmpl="with(this){try{var _this_ = tmpl,___ = [];"+n.join("")+'return ___.join("");}catch(e){console.warn(e);return "";}}'},e.b=g;var i=n(1),s=n(0),r=n(10),a=n(12),l=n(3);let c,o,u,p,h,d,f,m;function g(){const t=this.constructor;s.a.each(t.alias,(t,e)=>{this.$template=this.$template.replace(new RegExp(s.a.initRegExp(e),"g"),t)})}},function(t,e,n){"use strict";n.d(e,"e",function(){return i}),n.d(e,"i",function(){return s}),n.d(e,"h",function(){return r}),n.d(e,"g",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return p});const i=/[\b\f\r\v]/g,s=/"/g,r=/<tmpl-include .*?name=(\'|\")([\s\S]*?)\1.*?>([\s\S]*?)<\/tmpl-include>/g,a=/<tmpl-include .*?file=(\'|\")([\s\S]*?)\1.*?>([\s\S]*?)<\/tmpl-include>/g,l=/<tmpl-include.*?>([\s\S]*?)<\/tmpl-include>/g,c=/<tmpl-block .*?name=(\'|\")([\s\S]*?)\1.*?>([\s\S]*?)<\/tmpl-block>/g,o=/^append:/,u=/^insert:/,p=/<tmpl-extend .*?file=(\'|\")([\s\S]*?)\1.*?\/>/g},function(t,e,n){"use strict";let i;n(1).a||(i=n(11)),e.a=i},function(t,e,n){"use strict";e.b=function(t){const e=this.$config[t];if(!i.a.isObjcet(e))return;i.a.each(e,(t,e)=>{this[e]=t})},e.a=function(){if(!s.a)return this.$config.template;try{return this.getEl(this.$config.template).innerHTML}catch(t){return this.$config.template}};var i=n(0),s=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(7);var i,s=n(8);"undefined"!=typeof window&&window,i=function(){return s.a},"function"==typeof demand&&"function"==typeof demand.define?demand.define("blue-tmpl",i):"function"==typeof _require&&"function"==typeof _require.define&&_require.define("blue-tmpl",i),e.default=s.a},function(t,e,n){"use strict";var i=n(1),s=this;Array.prototype.indexOf||(Array.prototype.indexOf=(t=>{for(let e=0,n=s.length;e<n;e++)if(s[e]===t)return e;return-1})),i.a&&!document.getElementsByClassName&&(document.getElementsByClassName=((t,e)=>{const n=(e||document).getElementsByTagName("*"),i=new Array;for(let e=0;e<n.length;e++){const s=n[e],r=s.className.split(" ");for(let e=0;e<r.length;e++)if(r[e]==t){i.push(s);break}}return i}))},function(t,e,n){"use strict";var i=n(9),s=n(14),r=n(0),a=n(15),l=n(16),c=n(17),o=n(5),u=n(18),p=n(2);class h extends a.a{constructor(t){super(),this.$config=r.a.extend(r.a.deepCopy(l.a),t),this.init()}static install(t){t.install(this)}static render(t,e){return new this({template:t}).render(e).template}static setAlias(t){u.a.call(this,t)}init(){i.a.call(this)}render(t,e){return new s.a({tmpl:this,state:t,stateName:e})}update(){return this.$template=o.a.call(this),p.a.call(this),this}cb(t){return r.a.cb(t,this),this}escape(t){return r.a.each(c.a,(e,n)=>{t=t.replace(new RegExp(n,"g"),e)}),t}}e.a=h,h.prototype.util=r.a,h.alias={},h.version="v1.1.2"},function(t,e,n){"use strict";e.a=function(){i.a.run(this.$config.create,this),this.$template=r.a.call(this),r.b.call(this,"methods"),r.b.call(this,"data"),i.a.run(this.$config.created,this),a.b.call(this),this.$template&&(s.c.call(this),s.a.call(this));i.a.run(this.$config.events,this),i.a.run(this.$config.mounted,this),a.a.call(this)};var i=n(0),s=n(2),r=n(5),a=n(13)},function(t,e,n){"use strict";e.a=function t(){const e=(()=>i.a?a.h:a.g)();let n,l;n=s.a.unique(this.$template.match(e));l=n.toString().replace(e,"$2").split(",");if(0===n.length||0===s.a.trimArr(l).length||!(n.length>0&&l.length>0&&l.length===n.length))return;s.a.each(l,(t,e)=>{const a=new RegExp(s.a.initRegExp(n[e]),"g");if(i.a){const e=this.getEl(t);this.$template=e?this.$template.replace(a,this.html(e)):this.$template.replace(a,"")}else try{const e=r.a.readFileSync(t,{encoding:"UTF8"});this.$template=this.$template.replace(a,e)}catch(t){this.$template=this.$template.replace(a,"")}});n=s.a.unique(this.$template.match(e));n.length>0&&t.call(this);this.$template=this.$template.replace(a.f,"")};var i=n(1),s=n(0),r=n(4),a=n(3)},function(e,n){e.exports=t},function(t,e,n){"use strict";e.a=function(){s.b.call(this);const t=i.a.unique(this.$template.match(a.d)).toString().replace(a.d,"$2").split(",")[0];if(""===t)return;const e=i.a.unique(this.$template.match(a.a));let n=r.a.readFileSync(t,{encoding:"UTF8"});const l=n.match(a.a)||[],c=l.toString(),o=i.a.unique(""!==c?c.replace(a.a,"$2").split(","):[]);i.a.each(o,(t,s)=>{const r=l[s],c=new RegExp(i.a.initRegExp(r),"g");let o=!1;i.a.each(e,(e,i)=>{a.a.test(e);const s=RegExp.$2,l=RegExp.$3;t===s?(n=n.replace(c,l),o=!0):a.b.test(s)&&t===s.replace(a.b,"")?(n=n.replace(c,r.replace(a.a,"$3")+l),o=!0):a.c.test(s)&&t===s.replace(a.c,"")&&(n=n.replace(c,l+r.replace(a.a,"$3")),o=!0),a.a.lastIndex=0}),o||(n=n.replace(c,r.replace(a.a,"$3")))}),this.$template=n};var i=n(0),s=n(2),r=n(4),a=n(3)},function(t,e,n){"use strict";e.b=function(){i.a.isObjcet(this.$config.router)&&(this.constructor.router=this.$config.router)},e.a=function(){const t=this.constructor.router;!1!==this.$config.async&&t&&t.changeRoutereStatus(!0)};var i=n(0)},function(t,e,n){"use strict";var i=n(1);e.a=class{constructor(t){this.init(t)}init(t){this.tmpl=t.tmpl,this.state=t.state||{},this.template=new Function("tmpl",this.tmpl.vTmpl).apply(this.state,[this.tmpl]),i.a&&(this.fragment=this.tmpl.create(this.template))}appendTo(t,e){const n=this.tmpl,i=n.util;return 1===t.nodeType?t.appendChild(this.fragment):n.getEl(t).appendChild(this.fragment),i.cb(e,this.tmpl),n}insertBefore(t,e,n){const i=this.tmpl,s=i.util,r=1===t.nodeType?t:i.getEl(t),a=1===t.nodeType?e:i.getEl(e);return r.insertBefore(this.fragment,a),s.cb(n,i),i}}},function(t,e,n){"use strict";var i=n(0);function s(t,e,n){const s=t.className.split(" ");if(!i.a.isObjcet(e)||"replaceBind"!=n&&"replaceClass"!=n){e=e.split(" ");for(var r=0;r<e.length;r++){const t=s.indexOf(e[r]);"bind"==n||"addClass"==n?-1==t&&s.push(e[r]):"unbind"!=n&&"removeClass"!=n||-1!=t&&s.splice(t,1)}}else i.a.each(e,(t,e)=>{var n=s.indexOf(e);-1!=n&&(s[n]=t)});return t.className=s.join(" "),this}e.a=class{getEl(t){if(!t)return null;if(!this.util.isFn(document.querySelector))return document.getElementById(t);const e=document.querySelector(t),n=document.getElementById(t);return null!==e?e:n||null}getEls(t){if(!t)return null;if(!this.util.isFn(document.querySelectorAll))return document.getElementsByClassName(t);const e=document.querySelectorAll(t),n=document.getElementsByClassName(t);return e.length>0?e:n||[]}on(t,e,n,s){return 4===arguments.length?(t.events||(t.events={}),t.events[n]||function(t,e,n){i.a.on(t,e,n=>{const s=n||window.event,r=s.target||s.srcElement,a=t.events[e];i.a.each(a,(t,e)=>{this.hasClass(r,e)&&i.a.each(t,(t,e)=>{t.apply(this,[s,r])})})})}.apply(this,[t,n,s]),t.events[n]||(t.events[n]={}),t.events[n][e]||(t.events[n][e]=[]),t.events[n][e].push(s)):3===arguments.length&&(s=n,n=e,i.a.on(t,n,t=>{s.call(this,t)})),this}off(t,e,n,s){if(4===arguments.length){var r=t.events[n][e].indexOf(s);-1!=r&&t.events[n][e].splice(r,1),0===t.events[n][e].length&&i.a.off(t,n,s)}else 3===arguments.length&&i.a.off(t,n,s);return this}bind(t,e){return s.apply(this,[t,e,"bind"]),this}unbind(t,e){return s.apply(this,[t,e,"unbind"]),this}replaceBind(t,e){return s.apply(this,[t,e,"replaceBind"]),this}addClass(t,e){return s.apply(this,[t,e,"addClass"]),this}removeClass(t,e){return s.apply(this,[t,e,"removeClass"]),this}replaceClass(t,e){return s.apply(this,[t,e,"replaceClass"]),this}hasClass(t,e){try{const i=t.className.split(" "),s=e.split(" ");let r=0;for(var n=0;n<s.length;n++)-1!==i.indexOf(s[n])&&++r;return r===s.length}catch(t){return!1}}attr(t,e){if(i.a.isObjcet(e))return i.a.each(e,(e,n)=>{"boolean"==typeof e?(t[n]=e,t.setAttribute(n,e)):""===e?t.removeAttribute(n):t.setAttribute(n,e)}),this;if(e instanceof Array){var n=[];return i.a.each(e,(e,i)=>{n.push(this.attr(t,e))}),n}return/^bind-\S*/.test(e)?new Function("return "+t.getAttribute(e)+";").apply(this):t.getAttribute(e)}prop(t,e){return i.a.isObjcet(e)?(i.a.each(e,(e,n)=>{t[n]=e}),this):i.a.isStr(e)?/^bind-\S*/.test(e)?new Function("return "+t[e]+";").apply(this):t[e]:void 0}html(t,e){return void 0===e?t.innerHTML:(t.innerHTML=e,this)}val(t,e){return void 0===e?t.value:(t.value=e,this)}text(t,e){return void 0===e?t.textContent:(t.textContent=e,this)}parent(t,e){var n=t.parentNode;return n===document||null===n?null:e?this.hasClass(n,e)?n:this.parent(n,e):n}parents(t,e,n){var i=t.parentNode;return n=n||[],i===document||null===i?null:(this.hasClass(i,e)&&n.push(i),this.parents(i,e,n),n)}children(t){const e=[];return i.a.each(t.childNodes,t=>{1===t.nodeType&&e.push(t)}),e}childrens(t,e,n){var i=0;for(n=n||[];i<t.children.length;i++)this.hasClass(t.children[i],e)&&n.push(t.children[i]),this.childrens(t.children[i],e,n);return n}next(t){const e=t.nextSibling;return null===e?null:1!==e.nodeType?this.next(e):e}nextAll(t){return this.siblings(t,"nextAll")}prevAll(t){return this.siblings(t,"prevAll")}prev(t){const e=t.previousSibling;return null===e?null:1!==e.nodeType?this.prev(e):e}siblings(t,e){const n=this.parent(t);if(null===n)return null;const i=n.children,s=[];let r=0;for("nextAll"===e&&(r=Array.prototype.indexOf.call(i,t));r<i.length;r++)if(i[r]!==t&&s.push(i[r]),"prevAll"===e&&i[r]===t)return s;return s}hide(t,e){var n=this.css(t,"opacity");return t.opacity=n||1,i.a.isNum(e)?this.animate(t,{opacity:0},e,()=>{t.style.display="none"}):t.style.display="none",this}show(t,e){var n=t.opactiy?t.opactiy:100;return i.a.isNum(e)?(this.css(t,{opacity:0}),t.style.display="",this.animate(t,{opacity:n},e)):t.style.display="",this}toggle(t,e){""===t.style.display?this.hide(t,e):this.show(t,e)}animate(t,e,n,s){t&&(t.timer=setInterval(()=>{let n=!0;i.a.each(e,(i,s)=>{let r=0,a=0;if("opacity"===s)a=100*Number(this.css(t,"opacity"));else if("scrollTop"===s){a=Math.ceil(document.documentElement.scrollTop||document.body.scrollTop);let t=Math.ceil(document.body.scrollHeight-window.innerHeight);i>t&&(i=t,e.scrollTop=t)}else a=parseInt(this.css(t,s));r=(r=(i-a)/8)>0?Math.ceil(r):Math.floor(r);const l={};"opacity"===s?(l.opacity=(a+r)/100,this.css(t,l)):"scrollTop"===s?this.setScrollTop(a+r):(l[s]=a+r+"px",this.css(t,l)),parseInt(i)!==a&&(n=!1)}),n&&(clearInterval(t.timer),i.a.cb(s,this))},n/60))}css(t,e){return i.a.isStr(e)?this.curCss(t,e):i.a.isObjcet(e)?(this.setStyle(t,e),this):void 0}camelCase(t,e){let n;return i.a.isStr(t)?(n=(n=e?t.match(/-[a-z]/g):t.match(/[A-Z]/g))||[],i.a.each(n,n=>{t=e?t.replace(n,n.replace(/-/g,"").toUpperCase()):t.replace(n,"-"+n.toLowerCase())}),t):t}curCss(t,e){let n;return window.getComputedStyle?(n=this.camelCase(e,!0),window.getComputedStyle(t,null)[n]):document.documentElement.currentStyle?(n=this.camelCase(e,!1),document.documentElement.currentStyle[n]):void 0}setStyle(t,e){i.a.each(e,(e,n)=>{t.style[n]=e})}remove(t){try{t.remove()}catch(e){const n=this.parent(t);null!==n?n.removeChild(t):console.warn("element remove error!")}return this}create(t){const e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;0!==n.childNodes.length;){let t=n.childNodes[0];const s=t.innerHTML;if("SCRIPT"===t.tagName){const e=document.createElement("script");e.innerHTML=s,i.a.each(t.attributes,t=>{e.setAttribute(t.name,t.value)}),this.remove(t),t=e}e.appendChild(t)}return e}append(t,e){return 1===t.nodeType?t.appendChild(e):this.getEl(t).appendChild(e),this}preventDefault(t){const e=t||window.event;e.stopPropagation(),e.cancelBubble=!0}offset(t){const e=t.getBoundingClientRect(),n=document.documentElement,i=document.body,s=window,r=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,l=s.pageYOffset||n.scrollTop,c=s.pageXOffset||n.scrollLeft;return{top:e.top+l-r,left:e.left+c-a}}setScrollTop(t,e){document.body.scrollTop=t,document.documentElement.scrollTop=t}}},function(t,e,n){"use strict";e.a={open_tag:"<%",close_tag:"%>",template:"",data:{},methods:{}}},function(t,e,n){"use strict";e.a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}},function(t,e,n){"use strict";e.a=function t(e,n=""){if(!i.a.isObjcet(e))return;i.a.each(e,(e,s)=>{if(!e)return;const r=n?n+"."+s:s;i.a.isObjcet(e)?t.apply(this,[e,r]):this.alias[r]=e})};var i=n(0)}]).default});
//# sourceMappingURL=blue-tmpl.min.js.map
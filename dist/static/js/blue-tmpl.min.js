/*!
 * 
 * blue-tmpl.js 1.1.2
 * (c) 2016-2017 Blue
 * Released under the MIT License.
 * https://github.com/azhanging/blue-tmpl
 * time:Sat, 17 Nov 2018 11:10:44 GMT
 * 		
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("fs")):"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.BlueTmpl=e(require("fs")):t.BlueTmpl=e(t[void 0])}("undefined"!=typeof self?self:this,function(t){return function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:s})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./static",n(n.s=6)}([function(t,e,n){"use strict";var s=n(1);class i{nullPlainObject(t){return"{}"===JSON.stringify(t)}isStr(t){return"string"==typeof t}isFn(t){return"function"==typeof t}isNum(t){return"number"==typeof t||!isNaN(t)}isEl(t){return!(!t||!t.nodeType)}isPlainObject(t){return t&&null!==t&&"[object Object]"===t.toString()}isArray(t){return t instanceof Array}isObjcet(t){return this.isPlainObject(t)||this.isArray(t)}isDef(t){return void 0!==t&&null!==t}isUndef(t){return void 0===t||null===t}isBlankSpace(t){return 0===t.trim().length}isTrue(t){return!0===t}isFalse(t){return!1===t}hook(t,e=function(){},n=[]){e.apply(t,n)}each(t,e,n=!1){if(this.isUndef(t))return;let s=0,i=0,r=[];const a=t.length;if(this.isArray(t))for(;s<a;s++)n?r.push(e(t[s],s)):e(t[s],s);else for(s in t)t.hasOwnProperty(s)&&(n?r.push(e(t[s],s,i++)):e(t[s],s,i++));return n?r:void 0}definePropertyVal(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!1,value:n})}deepCopy(t){if(!t||!(t instanceof Array)&&"[object Object]"!==t.toString())return t;const e=t instanceof Array?[]:{};for(let n in t)t.hasOwnProperty(n)&&(t instanceof Array||t instanceof Object?e[n]=this.deepCopy(t[n]):e[n]=t[n]);return e}extend(t,e){t=this.deepCopy(t);const n=this.each(t,(t,e)=>e,!0);return this.each(e,(e,s)=>{const i=n.indexOf(s);-1!=i&&n.splice(i,1),this.isPlainObject(e)&&(t[s]||(t[s]={}),this.extend(t[s],e)),t[s]=e}),this.each(n,n=>{e[n]=t[n]}),t}cb(t,e,n){n=n||[],this.isFn(t)&&t.apply(e,n)}unique(t){if(!this.isArray(t))return[];let e=[];return this.each(t,(t,n)=>{-1===e.indexOf(t)&&e.push(t)}),e}trimArr(t){let e=[];return this.each(t,(t,n)=>{""!==t&&e.push(t)}),e}serialize(t){let e="";return this.isObjcet(t)?(this.each(t,(t,n)=>{e=e+n+"="+encodeURIComponent(t)+"&"}),e.substring(0,e.length-1)):""}initRegExp(t){return this.each("\\/*.?+$^[](){}|'\"",(e,n)=>{t=t.replace(new RegExp("\\"+e,"g"),"\\"+e)}),t}copy(t,e){r.each(e,(e,n)=>{t[n]=e})}getRegExp(t){return this.each("\\/*.?+$^[](){}|'\"",(e,n)=>{t=t.replace(new RegExp("\\"+e,"g"),"\\"+e)}),t}getObjLen(t){let e=0;return this.each(t,()=>{++e}),e}ajax(t){const e=new XMLHttpRequest;t.type=t.type?t.type.toUpperCase():"GET",e.timeout=t.timeout&&!1!==t.async?t.timeout:0,"GET"===t.type?e.open(t.type,(()=>t.url.indexOf("?")?t.url+this.serialize(t.data):t.url+"?"+this.serialize(t.data))(),t.async):"POST"===t.type&&e.open(t.type,t.url,t.async),e.setRequestHeader("Content-Type",t.contentType?t.contentType:"application/x-www-form-urlencoded; charset=UTF-8"),e.addEventListener("readystatechange",()=>{let n;try{n=JSON.parse(e.responseText)}catch(t){n=e.responseText}4==e.readyState&&(200==e.status?this.hook(this,t.success,[n]):e.status>=400&&this.hook(this,t.error,[n]))},!1),"GET"===t.type?e.send():"POST"===t.type&&e.send(this.serialize(t.data))}}i.prototype.on=function(){if(s.a)return"function"==typeof document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)}}(),i.prototype.off=function(){if(s.a)return"function"==typeof document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)}}();const r=new i;e.a=r},function(t,e,n){"use strict";const s="undefined"!=typeof window;e.a=s},function(t,e,n){"use strict";e.c=function(){const t=i.a.initRegExp(this.$opts.config.open_tag),e=i.a.initRegExp(this.$opts.config.close_tag);c=new RegExp(t+"[^=-][\\s\\S]*?"+e+"|"+t+"=[\\s\\S]*?"+e+"|"+t+"-[\\s\\S]*?"+e,"g"),o=new RegExp(t+"[^=-][\\s\\S]*?"+e,"g"),u=new RegExp(t+"=([\\s\\S]*?)"+e,"g"),p=new RegExp(t+"-([\\s\\S]*?)"+e,"g"),h=new RegExp(t+"=","g"),d=new RegExp(t+"-","g"),f=new RegExp(t,"g"),m=new RegExp(e,"g")},e.a=function(){s.a||(a.a.call(this),function(){this.$template=this.$template.replace(l.d,"").replace(l.a,"")}.call(this));g.call(this),r.a.call(this);let t=this.$template.match(c)||[];const e=function(){return this.$template.replace(u,"___ECHO_SCRIPT___").replace(c,"___SCRIPT___")}.call(this).split(/___SCRIPT___|___ECHO_SCRIPT___/),n=[],y=e.length>t.length?e:t;i.a.each(e,(t,n)=>{e[n]='___.push("'+t.replace(l.e,"").replace(/\n/g,"\\n").replace(l.i,'\\"')+'");'}),i.a.each(t,(e,n)=>{u.lastIndex=0,o.lastIndex=0,p.lastIndex=0,u.test(e)?t[n]=e.replace(h,"___.push(").replace(m,");"):o.test(e)?t[n]=e.replace(f,"").replace(m,""):p.test(e)&&(t[n]=e.replace(d,"___.push(_this_.escape(").replace(m,"));"))}),i.a.each(y,(s,r)=>{i.a.isStr(e[r])&&n.push(e[r]),i.a.isStr(t[r])&&n.push(t[r].replace(l.e,""))}),this.vTmpl="with(this){try{var _this_ = tmpl,___ = [];"+n.join("")+'return ___.join("");}catch(e){console.warn(e);return "";}}'},e.b=g;var s=n(1),i=n(0),r=n(10),a=n(12),l=n(3);let c,o,u,p,h,d,f,m;function g(){const t=this.constructor;i.a.each(t.alias,(t,e)=>{this.$template=this.$template.replace(new RegExp(i.a.initRegExp(e),"g"),t)})}},function(t,e,n){"use strict";n.d(e,"e",function(){return s}),n.d(e,"i",function(){return i}),n.d(e,"h",function(){return r}),n.d(e,"g",function(){return a}),n.d(e,"f",function(){return l}),n.d(e,"a",function(){return c}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return p});const s=/[\b\f\r\v]/g,i=/"/g,r=/<tmpl-include .*?name=(\'|\")([\s\S]*?)\1.*?>([\s\S]*?)<\/tmpl-include>/g,a=/<tmpl-include .*?file=(\'|\")([\s\S]*?)\1.*?>([\s\S]*?)<\/tmpl-include>/g,l=/<tmpl-include.*?>([\s\S]*?)<\/tmpl-include>/g,c=/<tmpl-block .*?name=(\'|\")([\s\S]*?)\1.*?>([\s\S]*?)<\/tmpl-block>/g,o=/^append:/,u=/^insert:/,p=/<tmpl-extend .*?file=(\'|\")([\s\S]*?)\1.*?\/>/g},function(t,e,n){"use strict";let s;n(1).a||(s=n(11)),e.a=s},function(t,e,n){"use strict";e.b=function(t){const e=this.$opts[t];if(!s.a.isObjcet(e))return;s.a.each(e,(t,e)=>{this[e]=t})},e.a=function(){if(!i.a)return this.$opts.template;try{return this.getEl(this.$opts.template).innerHTML.trim()}catch(t){return this.$opts.template}};var s=n(0),i=n(1)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(7);var s,i=n(8);"undefined"!=typeof window&&window,s=function(){return i.a},"function"==typeof demand&&"function"==typeof demand.define?demand.define("blue-tmpl",s):"function"==typeof _require&&"function"==typeof _require.define&&_require.define("blue-tmpl",s),e.default=i.a},function(t,e,n){"use strict";var s=n(1),i=this;Array.prototype.indexOf||(Array.prototype.indexOf=(t=>{for(let e=0,n=i.length;e<n;e++)if(i[e]===t)return e;return-1})),s.a&&!document.getElementsByClassName&&(document.getElementsByClassName=((t,e)=>{const n=(e||document).getElementsByTagName("*"),s=new Array;for(let e=0;e<n.length;e++){const i=n[e],r=i.className.split(" ");for(let e=0;e<r.length;e++)if(r[e]==t){s.push(i);break}}return s}))},function(t,e,n){"use strict";var s=n(9),i=n(14),r=n(0),a=n(15),l=n(16),c=n(17),o=n(5),u=n(18),p=n(19),h=n(2);class d extends a.a{constructor(t){super(),this.$opts=r.a.extend(r.a.deepCopy(l.a),t),this.init()}static install(t){t.install(this)}static render(t,e){return new this({template:t}).render(e).template}static setAlias(t){u.a.call(this,t)}init(){s.a.call(this)}render(t,e){return new i.a({tmpl:this,state:t,stateName:e})}update(){return this.$template=o.a.call(this),h.a.call(this),this}bind(){return p.a.setTmpl(this),p.a}escape(t){return r.a.each(c.a,(e,n)=>{t=t.replace(new RegExp(n,"g"),e)}),t}}e.a=d,d.prototype.utils=r.a,d.alias={},d.version="v1.1.2"},function(t,e,n){"use strict";e.a=function(){s.a.hook(this,this.$opts.create),this.$template=r.a.call(this),r.b.call(this,"methods"),r.b.call(this,"data"),s.a.hook(this,this.$opts.created),a.b.call(this),this.$template&&(i.c.call(this),i.a.call(this));s.a.hook(this,this.$opts.events),s.a.hook(this,this.$opts.mounted),a.a.call(this)};var s=n(0),i=n(2),r=n(5),a=n(13)},function(t,e,n){"use strict";e.a=function t(){const e=(()=>s.a?a.h:a.g)();let n,l;n=i.a.unique(this.$template.match(e));l=n.toString().replace(e,"$2").split(",");if(0===n.length||0===i.a.trimArr(l).length||!(n.length>0&&l.length>0&&l.length===n.length))return;i.a.each(l,(t,e)=>{const a=new RegExp(i.a.initRegExp(n[e]),"g");if(s.a){const e=this.getEl(t);this.$template=e?this.$template.replace(a,this.html(e)):this.$template.replace(a,"")}else try{const e=r.a.readFileSync(t,{encoding:"UTF8"});this.$template=this.$template.replace(a,e)}catch(t){this.$template=this.$template.replace(a,"")}});n=i.a.unique(this.$template.match(e));n.length>0&&t.call(this);this.$template=this.$template.replace(a.f,"")};var s=n(1),i=n(0),r=n(4),a=n(3)},function(e,n){e.exports=t},function(t,e,n){"use strict";e.a=function(){i.b.call(this);const t=s.a.unique(this.$template.match(a.d)).toString().replace(a.d,"$2").split(",")[0];if(""===t)return;const e=s.a.unique(this.$template.match(a.a));let n=r.a.readFileSync(t,{encoding:"UTF8"});const l=n.match(a.a)||[],c=l.toString(),o=s.a.unique(""!==c?c.replace(a.a,"$2").split(","):[]);s.a.each(o,(t,i)=>{const r=l[i],c=new RegExp(s.a.initRegExp(r),"g");let o=!1;s.a.each(e,e=>{a.a.test(e);const s=RegExp.$2,i=RegExp.$3;t===s?(n=n.replace(c,i),o=!0):a.b.test(s)&&t===s.replace(a.b,"")?(n=n.replace(c,r.replace(a.a,"$3")+i),o=!0):a.c.test(s)&&t===s.replace(a.c,"")&&(n=n.replace(c,i+r.replace(a.a,"$3")),o=!0),a.a.lastIndex=0}),o||(n=n.replace(c,r.replace(a.a,"$3")))}),this.$template=n};var s=n(0),i=n(2),r=n(4),a=n(3)},function(t,e,n){"use strict";e.b=function(){s.a.isObjcet(this.$opts.router)&&(this.constructor.router=this.$opts.router)},e.a=function(){const t=this.constructor.router;!1!==this.$opts.async&&t&&t.changeRoutereStatus(!0)};var s=n(0)},function(t,e,n){"use strict";var s=n(1);e.a=class{constructor(t){this.init(t)}init(t){this.tmpl=t.tmpl,this.state=t.state||{},this.template=new Function("tmpl",this.tmpl.vTmpl).apply(this.state,[this.tmpl]),s.a&&(this.fragment=this.tmpl.create(this.template))}appendTo(t,e){const n=this.tmpl,s=n.utils;return 1===t.nodeType?t.appendChild(this.fragment):n.getEl(t).appendChild(this.fragment),s.hook(this.tmpl,e),n}insertBefore(t,e,n){const s=this.tmpl,i=s.utils,r=1===t.nodeType?t:s.getEl(t),a=1===t.nodeType?e:s.getEl(e);return r.insertBefore(this.fragment,a),i.hook(s,n),s}}},function(t,e,n){"use strict";var s=n(0);function i(t,e,n){const i=t.className.split(" ");if(!s.a.isObjcet(e)||"replaceBind"!=n&&"replaceClass"!=n){e=e.split(" ");for(var r=0;r<e.length;r++){const t=i.indexOf(e[r]);"bind"==n||"addClass"==n?-1==t&&i.push(e[r]):"unbind"!=n&&"removeClass"!=n||-1!=t&&i.splice(t,1)}}else s.a.each(e,(t,e)=>{var n=i.indexOf(e);-1!=n&&(i[n]=t)});return t.className=i.join(" "),this}e.a=class{getEl(t){if(!t)return null;if(!this.utils.isFn(document.querySelector))return document.getElementById(t);const e=document.querySelector(t),n=document.getElementById(t);return null!==e?e:n||null}getEls(t){if(!t)return null;if(!this.utils.isFn(document.querySelectorAll))return document.getElementsByClassName(t);const e=document.querySelectorAll(t),n=document.getElementsByClassName(t);return e.length>0?e:n||[]}on(t,e,n,i){return 4===arguments.length?(t.events||(t.events={}),t.events[n]||function(t,e,n){s.a.on(t,e,n=>{const i=n||window.event,r=i.target||i.srcElement,a=t.events[e];s.a.each(a,(t,e)=>{this.hasClass(r,e)&&s.a.each(t,(t,e)=>{t.apply(this,[i,r])})})})}.apply(this,[t,n,i]),t.events[n]||(t.events[n]={}),t.events[n][e]||(t.events[n][e]=[]),t.events[n][e].push(i)):3===arguments.length&&(i=n,n=e,s.a.on(t,n,t=>{i.call(this,t)})),this}off(t,e,n,i){if(4===arguments.length){var r=t.events[n][e].indexOf(i);-1!=r&&t.events[n][e].splice(r,1),0===t.events[n][e].length&&s.a.off(t,n,i)}else 3===arguments.length&&s.a.off(t,n,i);return this}addClass(t,e){return i.apply(this,[t,e,"addClass"]),this}removeClass(t,e){return i.apply(this,[t,e,"removeClass"]),this}replaceClass(t,e){return i.apply(this,[t,e,"replaceClass"]),this}hasClass(t,e){try{const s=t.className.split(" "),i=e.split(" ");let r=0;for(var n=0;n<i.length;n++)-1!==s.indexOf(i[n])&&++r;return r===i.length}catch(t){return!1}}attr(t,e){if(s.a.isObjcet(e))return s.a.each(e,(e,n)=>{"boolean"==typeof e?(t[n]=e,t.setAttribute(n,e)):""===e?t.removeAttribute(n):t.setAttribute(n,e)}),this;if(e instanceof Array){var n=[];return s.a.each(e,e=>{n.push(this.attr(t,e))}),n}return/^bind-\S*/.test(e)?t.bind?t.bind[e.replace(/^bind-(.*?)/,"$1")]:new Function("return "+t.getAttribute(e)+";").apply(this):t.getAttribute(e)}prop(t,e){return s.a.isObjcet(e)?(s.a.each(e,(e,n)=>{t[n]=e}),this):s.a.isStr(e)?/^bind-\S*/.test(e)?new Function("return "+t[e]+";").apply(this):t[e]:void 0}html(t,e){return void 0===e?t.innerHTML:(t.innerHTML=e,this)}val(t,e){return void 0===e?t.value:(t.value=e,this)}text(t,e){return void 0===e?t.textContent:(t.textContent=e,this)}parent(t,e){var n=t.parentNode;return n===document||null===n?null:e?this.hasClass(n,e)?n:this.parent(n,e):n}parents(t,e,n){var s=t.parentNode;return n=n||[],s===document||null===s?null:(this.hasClass(s,e)&&n.push(s),this.parents(s,e,n),n)}children(t){const e=[];return s.a.each(t.childNodes,t=>{1===t.nodeType&&e.push(t)}),e}childrens(t,e,n){var s=0;for(n=n||[];s<t.children.length;s++)this.hasClass(t.children[s],e)&&n.push(t.children[s]),this.childrens(t.children[s],e,n);return n}next(t){const e=t.nextSibling;return null===e?null:1!==e.nodeType?this.next(e):e}nextAll(t){return this.siblings(t,"nextAll")}prevAll(t){return this.siblings(t,"prevAll")}prev(t){const e=t.previousSibling;return null===e?null:1!==e.nodeType?this.prev(e):e}siblings(t,e){const n=this.parent(t);if(null===n)return null;const s=n.children,i=[];let r=0;for("nextAll"===e&&(r=Array.prototype.indexOf.call(s,t));r<s.length;r++)if(s[r]!==t&&i.push(s[r]),"prevAll"===e&&s[r]===t)return i;return i}hide(t,e){var n=this.css(t,"opacity");return t.opacity=n||1,s.a.isNum(e)?this.animate(t,{opacity:0},e,()=>{t.style.display="none"}):t.style.display="none",this}show(t,e){var n=t.opactiy?t.opactiy:100;return s.a.isNum(e)?(this.css(t,{opacity:0}),t.style.display="",this.animate(t,{opacity:n},e)):t.style.display="",this}toggle(t,e){""===t.style.display?this.hide(t,e):this.show(t,e)}animate(t,e,n,i){t&&(t.timer=setInterval(()=>{let n=!0;s.a.each(e,(s,i)=>{let r=0,a=0;if("opacity"===i)a=100*Number(this.css(t,"opacity"));else if("scrollTop"===i){a=Math.ceil(document.documentElement.scrollTop||document.body.scrollTop);let t=Math.ceil(document.body.scrollHeight-window.innerHeight);s>t&&(s=t,e.scrollTop=t)}else a=parseInt(this.css(t,i));r=(r=(s-a)/8)>0?Math.ceil(r):Math.floor(r);const l={};"opacity"===i?(l.opacity=(a+r)/100,this.css(t,l)):"scrollTop"===i?this.setScrollTop(a+r):(l[i]=a+r+"px",this.css(t,l)),parseInt(s)!==a&&(n=!1)}),n&&(clearInterval(t.timer),s.a.hook(this,i))},n/60))}css(t,e){return s.a.isStr(e)?this.curCss(t,e):s.a.isObjcet(e)?(this.setStyle(t,e),this):void 0}camelCase(t,e){let n;return s.a.isStr(t)?(n=(n=e?t.match(/-[a-z]/g):t.match(/[A-Z]/g))||[],s.a.each(n,n=>{t=e?t.replace(n,n.replace(/-/g,"").toUpperCase()):t.replace(n,"-"+n.toLowerCase())}),t):t}curCss(t,e){let n;return window.getComputedStyle?(n=this.camelCase(e,!0),window.getComputedStyle(t,null)[n]):document.documentElement.currentStyle?(n=this.camelCase(e,!1),document.documentElement.currentStyle[n]):void 0}setStyle(t,e){s.a.each(e,(e,n)=>{t.style[n]=e})}remove(t){try{t.remove()}catch(e){const n=this.parent(t);null!==n?n.removeChild(t):console.warn("element remove error!")}return this}create(t){const e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;0!==n.childNodes.length;){let t=n.childNodes[0];const i=t.innerHTML;if("SCRIPT"===t.tagName){const e=document.createElement("script");e.innerHTML=i,s.a.each(t.attributes,t=>{e.setAttribute(t.name,t.value)}),this.remove(t),t=e}e.appendChild(t)}return e}append(t,e){return 1===t.nodeType?t.appendChild(e):this.getEl(t).appendChild(e),this}preventDefault(t){const e=t||window.event;e.stopPropagation(),e.cancelBubble=!0}offset(t){const e=t.getBoundingClientRect(),n=document.documentElement,s=document.body,i=window,r=n.clientTop||s.clientTop||0,a=n.clientLeft||s.clientLeft||0,l=i.pageYOffset||n.scrollTop,c=i.pageXOffset||n.scrollLeft;return{top:e.top+l-r,left:e.left+c-a}}setScrollTop(t,e){document.body.scrollTop=t,document.documentElement.scrollTop=t}}},function(t,e,n){"use strict";e.a={config:{open_tag:"<%",close_tag:"%>"},template:"",data:{},methods:{}}},function(t,e,n){"use strict";e.a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}},function(t,e,n){"use strict";e.a=function t(e,n=""){if(!s.a.isObjcet(e))return;s.a.each(e,(e,i)=>{if(!e)return;const r=n?n+"."+i:i;s.a.isObjcet(e)?t.apply(this,[e,r]):this.alias[r]=e})};var s=n(0)},function(t,e,n){"use strict";var s=n(0);const i=/^bind-(.*?)/g;const r=new class{constructor(t={tmpl:{}}){this.tmpl=t.tmpl}get(t,e){return!!s.a.isEl(t)&&t.bind[e]}set(t,e){if(!s.a.isEl(t)||!s.a.isPlainObject(e))return!1;s.a.each(e,(e,n)=>{t.bind[n]=e})}setTmpl(t){this.tmpl=t}update(t){const e=t.querySelectorAll("*");[].forEach.call(e,t=>{t.bind||(t.bind={}),[].forEach.call(t.attributes,e=>{const n=e.name;if(i.test(n)){const s=new Function(`with(this){return ${e.value}}`).call(this.tmpl);t.bind[n.replace(i,"$1")]=s,t.removeAttribute(n)}})})}};e.a=r}]).default});
//# sourceMappingURL=blue-tmpl.min.js.map
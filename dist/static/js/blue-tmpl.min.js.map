{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 301a2cf6bb3524ca509c","webpack:///./src/utils/index.js","webpack:///./src/core/in_browser.js","webpack:///./src/core/compile/index.js","webpack:///./src/core/compile/compile-regexp.js","webpack:///./src/core/fs/index.js","webpack:///./src/core/instance/set.js","webpack:///./src/core/index.js","webpack:///./src/core/compatibility.js","webpack:///./src/core/instance/index.js","webpack:///./src/core/instance/init.js","webpack:///./src/core/compile/include.js","webpack:///external {\"commonjs\":\"fs\",\"commonjs2\":\"fs\"}","webpack:///./src/core/compile/block.js","webpack:///./src/core/router/index.js","webpack:///./src/core/render/index.js","webpack:///./src/core/instance/dom.js","webpack:///./src/core/options.js","webpack:///./src/core/compile/escape-code.js","webpack:///./src/core/alias/index.js","webpack:///./src/core/instance/bind.js"],"names":["root","factory","exports","module","require","define","amd","undefined","self","this","__WEBPACK_EXTERNAL_MODULE_11__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_IMPORTED_MODULE_0__core_in_browser__","Utils","nullPlainObject","val","JSON","stringify","isStr","isFn","fn","isNum","num","isNaN","isEl","el","nodeType","isPlainObject","toString","isArray","Array","isObjcet","isDef","isUndef","isBlankSpace","trim","length","isTrue","bool","isFalse","hook","context","callback","args","apply","each","obj","cb","isReturn","index","newVal","len","push","definePropertyVal","key","value","deepCopy","_obj","extend","_object","oldObjKeys","findIndexInOld","indexOf","splice","unique","arr","newArray","item","trimArr","newArr","serialize","data","result","encodeURIComponent","substring","initRegExp","expr","tmItem","replace","RegExp","copy","utils","getRegExp","getObjLen","ajax","options","xhr","XMLHttpRequest","type","toUpperCase","timeout","async","open","url","setRequestHeader","contentType","addEventListener","parse","responseText","e","readyState","status","success","error","send","on","document","attachEvent","off","removeEventListener","detachEvent","__webpack_exports__","inBrowser","window","open_tag","__WEBPACK_IMPORTED_MODULE_1__utils__","$opts","config","close_tag","SCRIPT_REGEXP","NATIVE_SCRIPT","ECHO_SCRIPT_REGEXP","ECHO_ESCAPE_REGEXP","REPLACE_ECHO_SCRIPT_OPEN_TAG","ECHO_ESCAPE_REGEXP_OPEN_TAG","OPEN_TAG_REGEXP","CLOSE_TAG_REGEXP","__WEBPACK_IMPORTED_MODULE_0__in_browser__","__WEBPACK_IMPORTED_MODULE_3__block__","$template","__WEBPACK_IMPORTED_MODULE_4__compile_regexp__","replaceAlias","__WEBPACK_IMPORTED_MODULE_2__include__","script","match","echoString","split","domString","longString","_echoString","_string","lastIndex","test","_longString","vTmpl","join","constructor","alias","FILTER_TRANFORM","QUEST","INCLUDE_ID","INCLUDE_FILE","INCLUDE_ERROR","BLOCK","BLOCK_APPEND","BLOCK_INSETR","EXTEND","fs","__WEBPACK_IMPORTED_MODULE_0__utils__","_get","__WEBPACK_IMPORTED_MODULE_1__in_browser__","template","getEl","innerHTML","__WEBPACK_IMPORTED_MODULE_1__instance__","demand","_require","_this","getElementsByClassName","className","children","getElementsByTagName","elements","child","classNames","j","__WEBPACK_IMPORTED_MODULE_0__init__","__WEBPACK_IMPORTED_MODULE_1__render__","__WEBPACK_IMPORTED_MODULE_2__utils__","__WEBPACK_IMPORTED_MODULE_3__dom__","__WEBPACK_IMPORTED_MODULE_4__options__","__WEBPACK_IMPORTED_MODULE_5__compile_escape_code__","__WEBPACK_IMPORTED_MODULE_6__set__","__WEBPACK_IMPORTED_MODULE_7__alias__","__WEBPACK_IMPORTED_MODULE_8__bind__","__WEBPACK_IMPORTED_MODULE_9__compile__","BlueTmpl","opts","super","init","[object Object]","install","domStr","state","render","paths","stateName","tmpl","update","bind","setTmpl","escape","escapeVal","version","create","__WEBPACK_IMPORTED_MODULE_2__set__","created","__WEBPACK_IMPORTED_MODULE_3__router__","__WEBPACK_IMPORTED_MODULE_1__compile__","events","mounted","replaceInclude","include","__WEBPACK_IMPORTED_MODULE_3__compile_regexp__","includeTmpl","includeId","id","replaceIncludeRegExp","html","__WEBPACK_IMPORTED_MODULE_2__fs__","readFileSync","encoding","baseFileName","blockTmpl","layoutTmpl","layoutTmplFindBlock","layoutTmplFindBlockStr","baseBlockName","block","replaceBlock","hasBlock","blocktmpl","_name","$2","blockContent","$3","router","changeRoutereStatus","Function","fragment","appendTo","appendChild","insertBefore","ex","_el","_ex","bindFn","_className","findIndex","__className","exp","querySelector","getElementById","getEls","querySelectorAll","ele","arguments","event","ev","target","srcElement","eventType","_eventType","hasClass","eventIndex","addClass","removeClass","replaceClass","hasClassName","hasLen","attr","_attr","setAttribute","removeAttribute","attrs","getAttribute","prop","_prop","text","textContent","parent","parentNode","parents","hasClassParent","els","childNodes","childrens","hasClassChild","next","nextEl","nextSibling","nextAll","siblings","prevAll","prev","prevEl","previousSibling","hide","time","opacity","css","animate","style","display","show","opactiy","toggle","timer","setInterval","animateStatus","speed","cssVal","Number","Math","ceil","documentElement","scrollTop","body","maxScrollTop","scrollHeight","innerHeight","parseInt","floor","setVal","setScrollTop","clearInterval","curCss","setStyle","camelCase","isCameCase","camelCases","str","toLowerCase","_css","getComputedStyle","currentStyle","cssName","remove","removeChild","console","warn","dom","createDocumentFragment","tempEl","createElement","childHtml","tagName","newScript","attributes","append","preventDefault","stopPropagation","cancelBubble","offset","box","getBoundingClientRect","docElem","win","clientTop","clientLeft","pageYOffset","scrollLeft","pageXOffset","top","left","methods","&","<",">","\"","'","`","setAlias","path","_key","__key","regBindName","bindName","set","_bind","bindElms","forEach","bindElm","attrVal"],"mappings":"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","file":"js/blue-tmpl.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"fs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BlueTmpl\"] = factory(require(\"fs\"));\n\telse\n\t\troot[\"BlueTmpl\"] = factory(root[undefined]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_11__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./static\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 301a2cf6bb3524ca509c","import inBrowser from \"../core/in_browser\";\r\n\r\nclass Utils {\r\n\r\n  nullPlainObject(val) {\r\n    return JSON.stringify(val) === \"{}\";\r\n  }\r\n\r\n  isStr(val) {\r\n    return typeof val === 'string';\r\n  }\r\n\r\n  isFn(fn) {\r\n    return typeof fn === 'function';\r\n  }\r\n\r\n  isNum(num) {\r\n    return typeof num === 'number' || !isNaN(num);\r\n  }\r\n\r\n  isEl(el) {\r\n    return !!(el && el.nodeType);\r\n  }\r\n\r\n  isPlainObject(val) {\r\n    return val && val !== null && (val.toString() === '[object Object]');\r\n  }\r\n\r\n  isArray(val) {\r\n    return val instanceof Array;\r\n  }\r\n\r\n  isObjcet(val) {\r\n    return this.isPlainObject(val) || this.isArray(val);\r\n  }\r\n\r\n  isDef(val) {\r\n    return val !== undefined && val !== null;\r\n  }\r\n\r\n  isUndef(val) {\r\n    return val === undefined || val === null;\r\n  }\r\n\r\n  isBlankSpace(val) {\r\n    return val.trim().length === 0;\r\n  }\r\n\r\n  isTrue(bool) {\r\n    return bool === true;\r\n  }\r\n\r\n  isFalse(bool) {\r\n    return bool === false;\r\n  }\r\n\r\n  hook(context, callback = function () {\r\n  }, args = []) {\r\n    callback.apply(context, args);\r\n  }\r\n\r\n  each(obj, cb, isReturn = false) {\r\n    if (this.isUndef(obj)) return;\r\n    let i = 0,\r\n      index = 0,\r\n      newVal = [];\r\n\r\n    const len = obj.length;\r\n\r\n    if (this.isArray(obj)) {\r\n      for (; i < len; i++) {\r\n        if (isReturn) {\r\n          newVal.push(cb(obj[i], i));\r\n        } else {\r\n          cb(obj[i], i);\r\n        }\r\n      }\r\n    } else {\r\n      for (i in obj) {\r\n        if (!obj.hasOwnProperty(i)) continue;\r\n        if (isReturn) {\r\n          newVal.push(cb(obj[i], i, index++));\r\n        } else {\r\n          cb(obj[i], i, index++);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (isReturn) return newVal;\r\n  }\r\n\r\n  definePropertyVal(obj, key, val) {\r\n    Object.defineProperty(obj, key, {\r\n      configurable: false,\r\n      enumerable: false,\r\n      value: val\r\n    });\r\n  }\r\n\r\n  deepCopy(obj) {\r\n    if (!obj || !(obj instanceof Array) && !(obj.toString() === \"[object Object]\")) return obj;\r\n    const _obj = obj instanceof Array ? [] : {};\r\n    for (let key in obj) {\r\n      if (!obj.hasOwnProperty(key)) continue;\r\n      if ((obj instanceof Array) || (obj instanceof Object)) {\r\n        _obj[key] = this.deepCopy(obj[key]);\r\n      } else {\r\n        _obj[key] = obj[key];\r\n      }\r\n    }\r\n    return _obj;\r\n  }\r\n\r\n  extend(object, _object) {\r\n\r\n    object = this.deepCopy(object);\r\n\r\n    const oldObjKeys = this.each(object, (obj, key) => {\r\n      return key;\r\n    }, true);\r\n\r\n    this.each(_object, (obj, key) => {\r\n\r\n      const findIndexInOld = oldObjKeys.indexOf(key);\r\n      if (findIndexInOld != -1) {\r\n        oldObjKeys.splice(findIndexInOld, 1);\r\n      }\r\n\r\n      if (this.isPlainObject(obj)) {\r\n        if (!object[key]) {\r\n          object[key] = {};\r\n        }\r\n        this.extend(object[key], obj);\r\n      }\r\n      object[key] = obj;\r\n    });\r\n\r\n    this.each(oldObjKeys, (key) => {\r\n      _object[key] = object[key];\r\n    });\r\n\r\n    return object;\r\n  }\r\n\r\n  cb(cb, context, args) { //回调\r\n    args = args ? args : [];\r\n    this.isFn(cb) ? (cb.apply(context, args)) : null;\r\n  }\r\n\r\n  unique(arr) { /*去重*/\r\n    if (!this.isArray(arr)) return [];\r\n    let newArray = [];\r\n    this.each(arr, (item, index) => {\r\n      if (newArray.indexOf(item) === -1) {\r\n        newArray.push(item);\r\n      }\r\n    });\r\n    return newArray;\r\n  }\r\n\r\n  trimArr(arr) { /*清空数组中空的值*/\r\n    let newArr = [];\r\n    this.each(arr, (item, index) => {\r\n      if (item !== '') {\r\n        newArr.push(item);\r\n      }\r\n    });\r\n    return newArr;\r\n  }\r\n\r\n  serialize(data) { //初始化form数据\r\n    let result = '';\r\n\r\n    if (!this.isObjcet(data)) return '';\r\n\r\n    this.each(data, (val, key) => {\r\n\r\n      result = result + key + '=' + encodeURIComponent(val) + '&';\r\n\r\n    });\r\n\r\n    return result.substring(0, result.length - 1);\r\n  }\r\n\r\n  initRegExp(expr) {\r\n    const tm = '\\\\/*.?+$^[](){}|\\'\\\"';\r\n    this.each(tm, (tmItem, index) => {\r\n      expr = expr.replace(new RegExp('\\\\' + tmItem, 'g'), '\\\\' + tmItem);\r\n    });\r\n    return expr;\r\n  }\r\n\r\n  //把当前key-value复制到对应对象的key-value上\r\n  copy(object, _object) {\r\n    utils.each(_object, (obj, key) => {\r\n      object[key] = obj;\r\n    });\r\n  }\r\n\r\n  //获取表达式\r\n  getRegExp(expr) {\r\n    const tm = '\\\\/*.?+$^[](){}|\\'\\\"';\r\n    this.each(tm, (tmItem, index) => {\r\n      expr = expr.replace(new RegExp('\\\\' + tmItem, 'g'), '\\\\' + tmItem);\r\n    });\r\n    return expr;\r\n  }\r\n\r\n  getObjLen(obj) {\r\n    let index = 0;\r\n    this.each(obj, () => {\r\n      ++index;\r\n    });\r\n    return index;\r\n  }\r\n\r\n  ajax(options) {\r\n    //创建xhr\r\n    const xhr = new XMLHttpRequest();\r\n    //连接类型\r\n    options.type = (options.type ? options.type.toUpperCase() : 'GET');\r\n    //超时\r\n    xhr.timeout = options.timeout && options.async !== false ? options.timeout : 0;\r\n\r\n    if (options.type === \"GET\") {\r\n\r\n      xhr.open(options.type, (() => {\r\n\r\n        return options.url.indexOf('?') ?\r\n          options.url + this.serialize(options.data) :\r\n          options.url + '?' + this.serialize(options.data);\r\n\r\n      })(), options.async);\r\n\r\n    } else if (options.type === \"POST\") {\r\n\r\n      xhr.open(options.type, options.url, options.async);\r\n\r\n    }\r\n    xhr.setRequestHeader('Content-Type', options.contentType ?\r\n      options.contentType :\r\n      'application/x-www-form-urlencoded; charset=UTF-8');\r\n    //响应事件\r\n    xhr.addEventListener('readystatechange', () => {\r\n      let data;\r\n\r\n      try {\r\n        data = JSON.parse(xhr.responseText);\r\n      } catch (e) {\r\n        data = xhr.responseText;\r\n      }\r\n\r\n      if (xhr.readyState == 4) {\r\n        if (xhr.status == 200) {\r\n          this.hook(this, options.success, [data]);\r\n        } else if (xhr.status >= 400) {\r\n          this.hook(this, options.error, [data]);\r\n        }\r\n      }\r\n    }, false);\r\n\r\n    //send指令\r\n    if (options.type === \"GET\") {\r\n\r\n      xhr.send();\r\n\r\n    } else if (options.type === \"POST\") {\r\n\r\n      xhr.send(this.serialize(options.data));\r\n\r\n    }\r\n  }\r\n}\r\n\r\n//设置事件\r\nUtils.prototype.on = (function () {\r\n  if (!inBrowser) return;\r\n  if (typeof document.addEventListener === 'function') {\r\n    return function on(el, type, cb) {\r\n      el.addEventListener(type, cb, false);\r\n    }\r\n  } else {\r\n    return function on(el, type, cb) {\r\n      el.attachEvent('on' + type, cb);\r\n    };\r\n  }\r\n})();\r\n\r\n//移除事件\r\nUtils.prototype.off = (function () {\r\n  if (!inBrowser) return;\r\n  if (typeof document.removeEventListener === 'function') {\r\n    return function off(el, type, cb) {\r\n      el.removeEventListener(type, cb, false);\r\n    }\r\n  } else {\r\n    return function off(el, type, cb) {\r\n      el.detachEvent('on' + type, cb);\r\n    };\r\n  }\r\n})();\r\n\r\nconst utils = new Utils();\r\n\r\n\r\nexport default utils;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","/*\r\n *  检测是否在浏览器的环境中 \r\n * */\r\n\r\nconst inBrowser = typeof window !== 'undefined';\r\n\r\nexport default inBrowser;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/in_browser.js","/*\r\n * 一堆解析模板的方法,tmpl的核心算法\r\n * */\r\n\r\n//运行环境是否在浏览器\r\nimport inBrowser from '../in_browser';\r\n//常用的方法\r\nimport utils from '../../utils';\r\n//include\r\nimport replaceInclude from './include';\r\n//extend\r\nimport replaceBlock from './block';\r\n\r\n//模板正则配置\r\nimport {\r\n  FILTER_TRANFORM,\r\n  QUEST,\r\n  BLOCK,\r\n  EXTEND\r\n} from './compile-regexp';\r\n\r\n//由于模块接口中都是只读的，不能放在配置中；\r\nlet SCRIPT_REGEXP,\r\n  /*原生script*/\r\n  NATIVE_SCRIPT,\r\n  /*输出script*/\r\n  ECHO_SCRIPT_REGEXP,\r\n  //转义输出\r\n  ECHO_ESCAPE_REGEXP,\r\n  /*替换输出script*/\r\n  REPLACE_ECHO_SCRIPT_OPEN_TAG,\r\n  //转义的开头表达式\r\n  ECHO_ESCAPE_REGEXP_OPEN_TAG,\r\n  /*起始*/\r\n  OPEN_TAG_REGEXP,\r\n  /*闭合*/\r\n  CLOSE_TAG_REGEXP;\r\n\r\n//设置正则\r\nexport function setRegExp() {\r\n\r\n  const open_tag = utils.initRegExp(this.$opts.config.open_tag),\r\n    close_tag = utils.initRegExp(this.$opts.config.close_tag);\r\n  //解析所有的表达式\r\n  SCRIPT_REGEXP = new RegExp(open_tag + '[^=-][\\\\\\s\\\\\\S]*?' + close_tag + '|' + open_tag + '=[\\\\\\s\\\\\\S]*?' + close_tag + '|' + open_tag + '-[\\\\\\s\\\\\\S]*?' + close_tag, 'g');\r\n  //原生的script\r\n  NATIVE_SCRIPT = new RegExp(open_tag + '[^=-][\\\\\\s\\\\\\S]*?' + close_tag, 'g');\r\n  //解析输出的表达式\r\n  ECHO_SCRIPT_REGEXP = new RegExp(open_tag + '=([\\\\\\s\\\\\\S]*?)' + close_tag, 'g');\r\n  //转义输出\r\n  ECHO_ESCAPE_REGEXP = new RegExp(open_tag + '-([\\\\\\s\\\\\\S]*?)' + close_tag, 'g');\r\n  //替换输出的开头表达式\r\n  REPLACE_ECHO_SCRIPT_OPEN_TAG = new RegExp(open_tag + '=', 'g');\r\n  //转义的开头表达式\r\n  ECHO_ESCAPE_REGEXP_OPEN_TAG = new RegExp(open_tag + '-', 'g');\r\n  //替换输出的开始表达式\r\n  OPEN_TAG_REGEXP = new RegExp(open_tag, 'g');\r\n  //替换输出的结束表达式\r\n  CLOSE_TAG_REGEXP = new RegExp(close_tag, 'g');\r\n}\r\n\r\n//初始化dom生成\r\nexport function compile() {\r\n  //node中使用block\r\n  if (!inBrowser) {\r\n    replaceBlock.call(this);\r\n    /*清除遗留的block块*/\r\n    clearBlock.call(this);\r\n  }\r\n  /*重新检查依赖里面有没有引入的数据*/\r\n  replaceAlias.call(this);\r\n  /*替换include中的内容*/\r\n  replaceInclude.call(this);\r\n  /*解析script*/\r\n  let script = this.$template.match(SCRIPT_REGEXP) || [];\r\n  //设置占位\r\n  const replaceScript = setSeize.call(this),\r\n    echoString = replaceScript.split(/___SCRIPT___|___ECHO_SCRIPT___/), //拆分占位\r\n    domString = [],\r\n    longString = echoString.length > script.length ? echoString : script;\r\n\r\n  //排除了运算和赋值表达式，处理直接输出的字符串\r\n  utils.each(echoString, (_echoString, index) => {\r\n    echoString[index] = \"___.push(\\\"\" + filterTransferredMeaning(_echoString) + \"\\\");\";\r\n  });\r\n\r\n  //这里是处理所有表达式内容\r\n  utils.each(script, (_string, index) => {\r\n    //恢复正则的索引位置\r\n    ECHO_SCRIPT_REGEXP.lastIndex = 0;\r\n    NATIVE_SCRIPT.lastIndex = 0;\r\n    ECHO_ESCAPE_REGEXP.lastIndex = 0;\r\n    //处理对应表达式\r\n    if (ECHO_SCRIPT_REGEXP.test(_string)) {\r\n      script[index] = _string\r\n        .replace(REPLACE_ECHO_SCRIPT_OPEN_TAG, \"___.push(\")\r\n        .replace(CLOSE_TAG_REGEXP, \");\");\r\n    } else if (NATIVE_SCRIPT.test(_string)) {\r\n      script[index] = _string\r\n        .replace(OPEN_TAG_REGEXP, '')\r\n        .replace(CLOSE_TAG_REGEXP, '');\r\n    } else if (ECHO_ESCAPE_REGEXP.test(_string)) {\r\n      script[index] = _string\r\n        .replace(ECHO_ESCAPE_REGEXP_OPEN_TAG, \"___.push(_this_.escape(\")\r\n        .replace(CLOSE_TAG_REGEXP, \"));\");\r\n    }\r\n  });\r\n\r\n  utils.each(longString, (_longString, index) => {\r\n    //直接输出的dom结构\r\n    if (utils.isStr(echoString[index])) {\r\n      domString.push(echoString[index]);\r\n    }\r\n    //js的源码\r\n    if (utils.isStr(script[index])) {\r\n      domString.push(script[index].replace(FILTER_TRANFORM, \"\"));\r\n    }\r\n  });\r\n\r\n  this.vTmpl = 'with(this){try{var _this_ = tmpl,___ = [];' + domString.join('') + 'return ___.join(\"\");}catch(e){console.warn(e);return \"\";}}';\r\n\r\n};\r\n\r\n/*替换别名的常量*/\r\nexport function replaceAlias() {\r\n  const constructor = this.constructor;\r\n  utils.each(constructor.alias, (replaceAlias, alias) => {\r\n    this.$template = this.$template.replace(new RegExp(utils.initRegExp(alias), 'g'), replaceAlias);\r\n  });\r\n}\r\n\r\n/*清除多余的block块*/\r\nfunction clearBlock() {\r\n  this.$template = this.$template\r\n    .replace(EXTEND, '')\r\n    .replace(BLOCK, '');\r\n}\r\n\r\n//设置占位\r\nfunction setSeize() {\r\n  const replaceScript = this.$template\r\n    .replace(ECHO_SCRIPT_REGEXP, '___ECHO_SCRIPT___')\r\n    .replace(SCRIPT_REGEXP, '___SCRIPT___');\r\n  return replaceScript;\r\n}\r\n\r\n//过滤string中的引号\r\nfunction filterTransferredMeaning(string) {\r\n  //检查script的标签\r\n  return string.replace(FILTER_TRANFORM, '')\r\n    .replace(/\\n/g, '\\\\n')\r\n    .replace(QUEST, '\\\\\\\"');\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/compile/index.js","const FILTER_TRANFORM = /[\\b\\f\\r\\v]/g, //过滤转义字符  \r\n  //script的表达是\r\n  SCRIPT_TAG = /<script.*?>([\\s\\S]*?)<\\/script>/g,\r\n  //转义双引号\r\n  QUEST = /\"/g,\r\n  //引入模板\r\n  INCLUDE_ID = /<tmpl-include .*?name=(\\'|\\\")([\\s\\S]*?)\\1.*?>([\\s\\S]*?)<\\/tmpl-include>/g,\r\n  //引入模板\r\n  INCLUDE_FILE = /<tmpl-include .*?file=(\\'|\\\")([\\s\\S]*?)\\1.*?>([\\s\\S]*?)<\\/tmpl-include>/g,\r\n  //错误的模板\r\n  INCLUDE_ERROR = /<tmpl-include.*?>([\\s\\S]*?)<\\/tmpl-include>/g,\r\n  //嵌入block块\r\n  BLOCK = /<tmpl-block .*?name=(\\'|\\\")([\\s\\S]*?)\\1.*?>([\\s\\S]*?)<\\/tmpl-block>/g,\r\n  //append_block\r\n  BLOCK_APPEND = /^append:/,\r\n  //inser_block\r\n  BLOCK_INSETR = /^insert:/,\r\n  //base路径解析\r\n  EXTEND = /<tmpl-extend .*?file=(\\'|\\\")([\\s\\S]*?)\\1.*?\\/>/g;\r\n\r\nexport {\r\n  FILTER_TRANFORM,\r\n  SCRIPT_TAG,\r\n  QUEST,\r\n  INCLUDE_ID,\r\n  INCLUDE_FILE,\r\n  INCLUDE_ERROR,\r\n  BLOCK,\r\n  BLOCK_APPEND,\r\n  BLOCK_INSETR,\r\n  EXTEND\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/compile/compile-regexp.js","//运行环境是否在浏览器\r\nimport inBrowser from '../in_browser';\r\n\r\n//在node环境中使用需要用到fs获取文件\r\nlet fs;\r\n\r\nif (!inBrowser) {\r\n  fs = require('fs');\r\n}\r\n\r\nexport default fs;\n\n\n// WEBPACK FOOTER //\n// ./src/core/fs/index.js","//常用的方法\r\nimport utils from '../../utils';\r\n//运行环境是否在浏览器\r\nimport inBrowser from '../in_browser';\r\n\r\n//设置实例属性\r\nexport function setInstance(type) {\r\n  const get = this.$opts[type];\r\n  if (!utils.isObjcet(get)) {\r\n    return;\r\n  }\r\n  utils.each(get, (_get, key) => {\r\n    this[key] = _get;\r\n  });\r\n}\r\n\r\n//设置this.$template\r\nexport function setEl() {\r\n  if (inBrowser) {\r\n    try {\r\n      return this.getEl(this.$opts.template).innerHTML.trim();\r\n    } catch (e) {\r\n      return this.$opts.template;\r\n    }\r\n  } else {\r\n    return this.$opts.template;\r\n  }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/instance/set.js","//兼容性处理\r\nimport './compatibility';\r\n\r\n//Tmpl 文件入口\r\nimport BlueTmpl from './instance';\r\n\r\n(function (global, factory) {\r\n  if (typeof demand === 'function' && typeof demand.define === 'function')\r\n    demand.define('blue-tmpl', factory);\r\n  else if (typeof _require === 'function' && typeof _require.define === 'function')\r\n    _require.define('blue-tmpl', factory);\r\n})(typeof window !== 'undefined' ? window : this, function () {\r\n  return BlueTmpl;\r\n});\r\n\r\nexport default BlueTmpl;\n\n\n// WEBPACK FOOTER //\n// ./src/core/index.js","//运行环境是否在浏览器\r\nimport inBrowser from './in_browser';\r\n\r\n//兼容性IE8\r\n(() => {\r\n  //兼容IE8中 的indexOf\r\n  if (!Array.prototype.indexOf) {\r\n    Array.prototype.indexOf = (val) => {\r\n      for (let index = 0, len = this.length; index < len; index++) {\r\n        if (this[index] === val) {\r\n          return index;\r\n        }\r\n      }\r\n      return -1;\r\n    }\r\n  }\r\n\r\n  /*只在浏览器环境使用*/\r\n  if (inBrowser && !document.getElementsByClassName) {\r\n    document.getElementsByClassName = (className, el) => {\r\n      const children = (el || document).getElementsByTagName('*'),\r\n        elements = new Array();\r\n      for (let i = 0; i < children.length; i++) {\r\n\r\n        const child = children[i],\r\n          classNames = child.className.split(' ');\r\n\r\n        for (let j = 0; j < classNames.length; j++) {\r\n          if (classNames[j] == className) {\r\n            elements.push(child);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return elements;\r\n    };\r\n  }\r\n})();\r\n\r\nexport default true;\n\n\n// WEBPACK FOOTER //\n// ./src/core/compatibility.js","//tmpl的初始化\r\nimport init from './init';\r\n//处理模板数据的Render类\r\nimport Render from '../render';\r\n//常用的类方法\r\nimport utils from '../../utils';\r\n//Dom的操作\r\nimport Dom from './dom';\r\n//config配置\r\nimport options from '../options';\r\n//转义html\r\nimport escapeCode from '../compile/escape-code';\r\n//set\r\nimport { setEl } from './set';\r\n//setAlias\r\nimport { setAlias } from '../alias';\r\n\r\nimport bind from './bind';\r\n\r\n//tmpl的render解析\r\nimport {\r\n  compile\r\n} from '../compile';\r\n\r\nexport default class BlueTmpl extends Dom {\r\n  //Tmpl构造\r\n  constructor(opts) {\r\n    super();\r\n    this.$opts = utils.extend(utils.deepCopy(options), opts);\r\n    this.init();\r\n  }\r\n\r\n  //安装插件\r\n  static install(constructor) {\r\n    constructor.install(this);\r\n  }\r\n\r\n  //直接解析\r\n  static render(domStr, state) {\r\n\r\n    const tmpl = new this({\r\n      template: domStr\r\n    });\r\n\r\n    return tmpl.render(state).template;\r\n  }\r\n\r\n  //解析path\r\n  static setAlias(paths) {\r\n    setAlias.call(this, paths);\r\n  }\r\n\r\n  //初始化对象\r\n  init() {\r\n    init.call(this);\r\n  }\r\n\r\n  //解析模板和数据\r\n  render(state, stateName) {\r\n    return new Render({\r\n      tmpl: this,\r\n      state,\r\n      stateName\r\n    });\r\n  }\r\n\r\n  //添加数据更新模板\r\n  update() {\r\n    this.$template = setEl.call(this);\r\n    compile.call(this);\r\n    return this;\r\n  }\r\n\r\n  bind() {\r\n    bind.setTmpl(this);\r\n    return bind;\r\n  }\r\n\r\n  /*转义*/\r\n  escape(escapeVal) {\r\n    utils.each(escapeCode, (item, key) => {\r\n      escapeVal = escapeVal.replace(new RegExp(key, 'g'), item);\r\n    });\r\n    return escapeVal;\r\n  }\r\n}\r\n\r\nBlueTmpl.prototype.utils = utils;\r\n\r\nBlueTmpl.alias = {};\r\n\r\nBlueTmpl.version = \"v1.1.2\";\n\n\n// WEBPACK FOOTER //\n// ./src/core/instance/index.js","//常用的方法\r\nimport utils from '../../utils';\r\n\r\n//tmpl的render解析\r\nimport {\r\n  setRegExp,\r\n  compile\r\n} from '../compile';\r\n\r\n//初始化设置\r\nimport {\r\n  setInstance,\r\n  setEl\r\n} from './set';\r\n\r\n//router相关\r\nimport {\r\n  setRouter,\r\n  checkRouterStatus\r\n} from '../router';\r\n\r\nexport default function init() {\r\n  utils.hook(this, this.$opts.create);\r\n  this.$template = setEl.call(this);\r\n  setInstance.call(this, 'methods');\r\n  setInstance.call(this, 'data');\r\n  utils.hook(this, this.$opts.created);\r\n\r\n  //初始化路由\r\n  setRouter.call(this);\r\n\r\n  if (this.$template) {\r\n    //创建配置的解析正则\r\n    setRegExp.call(this);\r\n    //转化为js执行\r\n    compile.call(this);\r\n  }\r\n  utils.hook(this, this.$opts.events);\r\n  utils.hook(this, this.$opts.mounted);\r\n  checkRouterStatus.call(this);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/instance/init.js","//运行环境是否在浏览器\r\nimport inBrowser from '../in_browser';\r\n//常用的方法\r\nimport utils from '../../utils';\r\n//在node环境中使用需要用到fs获取文件\r\nimport fs from '../fs';\r\n\r\n//模板正则配置\r\nimport {\r\n  INCLUDE_ID,\r\n  INCLUDE_FILE,\r\n  INCLUDE_ERROR,\r\n} from './compile-regexp';\r\n\r\n/*替换include引入的模板*/\r\nexport default function replaceInclude() {\r\n  const include = (() => {\r\n    if (inBrowser) {\r\n      //在浏览器环境清空include[file]\r\n      return INCLUDE_ID;\r\n    } else {\r\n      //在node环境清空include[name]\r\n      return INCLUDE_FILE;\r\n    }\r\n  })();\r\n\r\n  let includeTmpl, includeId;\r\n\r\n  //去重\r\n  includeTmpl = utils.unique(this.$template.match(include));\r\n  includeId = includeTmpl.toString().replace(include, \"$2\").split(',');\r\n\r\n  //找不到include//查找的id和include匹配的数量必须相同\r\n  if (includeTmpl.length === 0 || utils.trimArr(includeId)\r\n      .length === 0 ||\r\n    !(includeTmpl.length > 0 &&\r\n      includeId.length > 0 &&\r\n      includeId.length === includeTmpl.length\r\n    )) return;\r\n\r\n  utils.each(includeId, (id, index) => {\r\n    const replaceIncludeRegExp = new RegExp(utils.initRegExp(includeTmpl[index]), 'g');\r\n    /*浏览器环境下执行*/\r\n    if (inBrowser) {\r\n      const el = this.getEl(id);\r\n      if (el) {\r\n        this.$template = this.$template.replace(replaceIncludeRegExp, this.html(el));\r\n      } else {\r\n        //找不到就清空原来的内容\r\n        this.$template = this.$template.replace(replaceIncludeRegExp, '');\r\n      }\r\n    } else {\r\n      /*node环境下执行*/\r\n      try {\r\n        const tmpl = fs.readFileSync(id, {\r\n          encoding: 'UTF8'\r\n        });\r\n\r\n        this.$template = this.$template.replace(replaceIncludeRegExp, tmpl);\r\n\r\n      } catch (e) {\r\n        //找不到就清空原来的内容\r\n        this.$template = this.$template.replace(replaceIncludeRegExp, '');\r\n      }\r\n    }\r\n  });\r\n\r\n  /*去掉重复的include*/\r\n  includeTmpl = utils.unique(this.$template.match(include));\r\n\r\n  /*查找是否还有include的引入*/\r\n  if (includeTmpl.length > 0) replaceInclude.call(this);\r\n\r\n  /*清空错误的include*/\r\n  this.$template = this.$template.replace(INCLUDE_ERROR, '');\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/compile/include.js","module.exports = __WEBPACK_EXTERNAL_MODULE_11__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"commonjs\":\"fs\",\"commonjs2\":\"fs\"}\n// module id = 11\n// module chunks = 0 1","//常用的方法\r\nimport utils from '../../utils';\r\n\r\nimport {\r\n  replaceAlias\r\n} from '../compile';\r\n\r\n//在node环境中使用需要用到fs获取文件\r\nimport fs from '../fs';\r\n\r\n//模板正则配置\r\nimport {\r\n  BLOCK,\r\n  BLOCK_APPEND,\r\n  BLOCK_INSETR,\r\n  EXTEND\r\n} from './compile-regexp';\r\n\r\n/*替换Block块内容*/\r\nexport default function replaceBlock() {\r\n  //先设置获取include的引入模板\r\n  replaceAlias.call(this);\r\n\r\n  const baseFile = utils.unique(this.$template.match(EXTEND)),\r\n    /*只获取第一个base的名字*/\r\n    baseFileName = baseFile.toString()\r\n      .replace(EXTEND, \"$2\")\r\n      .split(',')[0];\r\n\r\n  /*如果不存在block的内容，直接跳出*/\r\n  if (baseFileName === '') return;\r\n\r\n  //获取入口模板\r\n  const blockTmpl = utils.unique(this.$template.match(BLOCK));\r\n\r\n  //获取继承的模板\r\n  let layoutTmpl = fs.readFileSync(baseFileName, {\r\n    encoding: 'UTF8'\r\n  });\r\n\r\n  //从继承模板中筛选出block\r\n  const layoutTmplFindBlock = layoutTmpl.match(BLOCK) || [],\r\n    layoutTmplFindBlockStr = layoutTmplFindBlock.toString(),\r\n    baseBlockName = utils.unique(layoutTmplFindBlockStr !== '' ?\r\n      (layoutTmplFindBlockStr.replace(BLOCK, \"$2\").split(',')) : []);\r\n\r\n  utils.each(baseBlockName, (name, index) => {\r\n\r\n    const block = layoutTmplFindBlock[index],\r\n      replaceBlock = new RegExp(utils.initRegExp(block), 'g');\r\n\r\n    let hasBlock = false;\r\n\r\n    utils.each(blockTmpl, (blocktmpl) => {\r\n\r\n      BLOCK.test(blocktmpl);\r\n\r\n      const _name = RegExp.$2,\r\n        blockContent = RegExp.$3;\r\n\r\n      //匹配到name的\r\n      if (name === _name) {\r\n        layoutTmpl = layoutTmpl.replace(replaceBlock, blockContent);\r\n        hasBlock = true;\r\n      } else if (BLOCK_APPEND.test(_name) && name === _name.replace(BLOCK_APPEND, '')) {\r\n        layoutTmpl = layoutTmpl.replace(replaceBlock, block.replace(BLOCK, \"$3\") + blockContent);\r\n        hasBlock = true;\r\n      } else if (BLOCK_INSETR.test(_name) && name === _name.replace(BLOCK_INSETR, '')) {\r\n        layoutTmpl = layoutTmpl.replace(replaceBlock, blockContent + block.replace(BLOCK, \"$3\"));\r\n        hasBlock = true;\r\n      }\r\n\r\n      BLOCK.lastIndex = 0;\r\n\r\n    });\r\n\r\n    /*如果当前的block是在extends的模板中不存在，则显示默认里面的*/\r\n    if (!hasBlock) {\r\n      layoutTmpl = layoutTmpl.replace(replaceBlock, block.replace(BLOCK, '$3'));\r\n    }\r\n  });\r\n\r\n  this.$template = layoutTmpl;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/compile/block.js","/*路由相关*/\r\n\r\n//常用的方法\r\nimport utils from '../../utils';\r\n\r\n//把路由实例挂靠到模板中\r\nexport function setRouter() {\r\n  if (utils.isObjcet(this.$opts.router)) {\r\n    this.constructor.router = this.$opts.router;\r\n  }\r\n}\r\n\r\n//检查路由状态\r\nexport function checkRouterStatus() {\r\n  //获取路由\r\n  const router = this.constructor.router,\r\n    status = this.$opts.async;\r\n  if (!(status === false) && router) {\r\n    router.changeRoutereStatus(true);\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/router/index.js","/*\r\n *  Render代理实例,针对tmpl中的数据流\r\n * */\r\n\r\n//运行环境是否在浏览器\r\nimport inBrowser from '../in_browser';\r\n\r\nclass Render {\r\n  constructor(opts) {\r\n    this.init(opts);\r\n  }\r\n\r\n  /*\r\n  * 初始render类\r\n  * */\r\n  init(opts) {\r\n\r\n    this.tmpl = opts.tmpl;\r\n\r\n    this.state = opts.state || {};\r\n\r\n    this.template = new Function('tmpl', this.tmpl.vTmpl).apply(this.state, [this.tmpl]);\r\n\r\n    inBrowser ? (this.fragment = this.tmpl.create(this.template)) : null;\r\n\r\n  }\r\n\r\n  //在父节点中插入解析后的模板\r\n  appendTo(el, cb) {\r\n\r\n    const tmpl = this.tmpl,\r\n      utils = tmpl.utils;\r\n\r\n    if (el.nodeType === 1) el.appendChild(this.fragment);\r\n\r\n    else tmpl.getEl(el).appendChild(this.fragment);\r\n\r\n    utils.hook(this.tmpl, cb);\r\n\r\n    return tmpl;\r\n  }\r\n\r\n  //在el子节点ex中插入解析后的模板\r\n  insertBefore(el, ex, cb) {\r\n\r\n    const tmpl = this.tmpl,\r\n      utils = tmpl.utils,\r\n      _el = el.nodeType === 1 ? el : tmpl.getEl(el),\r\n      _ex = el.nodeType === 1 ? ex : tmpl.getEl(ex);\r\n\r\n    _el.insertBefore(this.fragment, _ex);\r\n\r\n    utils.hook(tmpl, cb);\r\n\r\n    return tmpl;\r\n  }\r\n}\r\n\r\nexport default Render;\n\n\n// WEBPACK FOOTER //\n// ./src/core/render/index.js","//常用的方法\r\nimport utils from '../../utils';\r\n\r\n//绑定相关函数\r\nfunction bindFn(el, className, type) {\r\n\r\n  const _className = el.className.split(' ');\r\n\r\n  //替换\r\n  if (utils.isObjcet(className) && (type == 'replaceBind' || type == 'replaceClass')) {\r\n    utils.each(className, (__className, key) => {\r\n      var findIndex = _className.indexOf(key);\r\n      if (findIndex != -1) _className[findIndex] = __className;\r\n    });\r\n  } else {\r\n    //获得el中的className{type:string}\r\n    className = className.split(' ');\r\n\r\n    for (var index = 0; index < className.length; index++) {\r\n\r\n      const findIndex = _className.indexOf(className[index]);\r\n\r\n      if (type == 'bind' || type == 'addClass') {\r\n\r\n        if (findIndex == -1) _className.push(className[index]);\r\n\r\n      } else if (type == 'unbind' || type == 'removeClass') {\r\n\r\n        if (findIndex != -1) _className.splice(findIndex, 1);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  el.className = _className.join(' ');\r\n\r\n  return this;\r\n}\r\n\r\n//设置主的委托事件\r\nfunction setEntrust(ele, type, cb) {\r\n  utils.on(ele, type, (event) => {\r\n    const ev = event || window.event,\r\n\r\n      el = ev.target || ev.srcElement,\r\n\r\n      eventType = ele.events[type];\r\n\r\n    utils.each(eventType, (_eventType, bind) => {\r\n\r\n      if (!this.hasClass(el, bind)) return;\r\n\r\n      utils.each(_eventType, (cb, index) => {\r\n\r\n        cb.apply(this, [ev, el]);\r\n\r\n      });\r\n    });\r\n\r\n  });\r\n\r\n}\r\n\r\nclass Dom {\r\n  getEl(exp) {\r\n\r\n    //获取节点\r\n    if (!exp) return null;\r\n\r\n    if (!this.utils.isFn(document.querySelector)) {\r\n      return document.getElementById(exp);\r\n    }\r\n\r\n    const getEl = document.querySelector(exp),\r\n      el = document.getElementById(exp);\r\n\r\n    return getEl !== null ? getEl : (el ? el : null);\r\n  }\r\n\r\n  getEls(exp) {\r\n\r\n    //获取多个节点\r\n    if (!exp) return null;\r\n\r\n    if (!this.utils.isFn(document.querySelectorAll)) {\r\n      return document.getElementsByClassName(exp);\r\n    }\r\n\r\n    const getEls = document.querySelectorAll(exp),\r\n      el = document.getElementsByClassName(exp);\r\n\r\n    return getEls.length > 0 ? getEls : (el ? el : []);\r\n  }\r\n\r\n  //绑定事件\r\n  on(ele, exp, type, cb) {\r\n    if (arguments.length === 4) {\r\n\r\n      //初始化事件\r\n      if (!ele.events) {\r\n        ele.events = {};\r\n      }\r\n\r\n      if (!ele.events[type]) {\r\n        //添加委托事件\r\n        setEntrust.apply(this, [ele, type, cb]);\r\n      }\r\n\r\n      //查找现在的节点是否存在事件\r\n      if (!ele.events[type]) {\r\n        ele.events[type] = {};\r\n      }\r\n\r\n      //当前的事件是否有设置\r\n      if (!ele.events[type][exp]) {\r\n        ele.events[type][exp] = [];\r\n      }\r\n\r\n      //添加处理函数到事件列表中\r\n      ele.events[type][exp].push(cb);\r\n\r\n    } else if (arguments.length === 3) {\r\n      cb = type;\r\n      type = exp;\r\n      utils.on(ele, type, (event) => {\r\n        cb.call(this, event);\r\n      });\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  //取消绑定事件\r\n  off(ele, exp, type, cb) {\r\n    if (arguments.length === 4) {\r\n      var eventIndex = ele.events[type][exp].indexOf(cb);\r\n      if (eventIndex != -1) {\r\n        ele.events[type][exp].splice(eventIndex, 1);\r\n      }\r\n      if (ele.events[type][exp].length === 0) {\r\n        utils.off(ele, type, cb);\r\n      }\r\n    } else if (arguments.length === 3) {\r\n      /*删除事件*/\r\n      utils.off(ele, type, cb);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  //设置事件委托的class\r\n  /*bind(el, bind) {\r\n    bindFn.apply(this, [el, bind, 'bind']);\r\n    return this;\r\n  }\r\n\r\n  //取消方法绑定\r\n  unbind(el, bind) {\r\n    bindFn.apply(this, [el, bind, 'unbind']);\r\n    return this;\r\n  }\r\n\r\n  //替换绑定\r\n  replaceBind(el, bind) {\r\n    bindFn.apply(this, [el, bind, 'replaceBind']);\r\n    return this;\r\n  }*/\r\n\r\n  //添加class\r\n  addClass(el, className) {\r\n    bindFn.apply(this, [el, className, 'addClass']);\r\n    return this;\r\n  }\r\n\r\n  //删除class\r\n  removeClass(el, className) {\r\n    bindFn.apply(this, [el, className, 'removeClass']);\r\n    return this;\r\n  }\r\n\r\n  //替换className\r\n  replaceClass(el, className) {\r\n    bindFn.apply(this, [el, className, 'replaceClass']);\r\n    return this;\r\n  }\r\n\r\n  //是否存在class\r\n  hasClass(el, className) {\r\n    try {\r\n      //节点中存在的className\r\n      const _className = el.className.split(' '),\r\n        //是否存在的className\r\n        hasClassName = className.split(' ');\r\n\r\n      let hasLen = 0;\r\n\r\n      for (var index = 0; index < hasClassName.length; index++) {\r\n        if (_className.indexOf(hasClassName[index]) !== -1) ++hasLen;\r\n      }\r\n\r\n      if (hasLen === hasClassName.length) return true;\r\n\r\n      return false;\r\n\r\n    } catch (e) {\r\n\r\n      return false;\r\n\r\n    }\r\n  }\r\n\r\n  //获取属性\r\n  attr(el, attr) {\r\n    if (utils.isObjcet(attr)) {\r\n\r\n      utils.each(attr, (_attr, key) => {\r\n\r\n        if (typeof _attr === 'boolean') {\r\n\r\n          el[key] = _attr;\r\n\r\n          el.setAttribute(key, _attr);\r\n\r\n        } else if (_attr === '') {\r\n\r\n          el.removeAttribute(key);\r\n\r\n        } else {\r\n\r\n          el.setAttribute(key, _attr);\r\n\r\n        }\r\n      });\r\n\r\n      return this;\r\n\r\n    } else {\r\n\r\n      if (attr instanceof Array) {\r\n\r\n        var attrs = [];\r\n\r\n        utils.each(attr, (_attr) => {\r\n\r\n          attrs.push(this.attr(el, _attr));\r\n\r\n        });\r\n\r\n        return attrs;\r\n\r\n      } else if (/^bind-\\S*/.test(attr)) {\r\n        if (el.bind) {\r\n          //通过Bind类绑定在el的bing中的值\r\n          const elBindAttr = el.bind[attr.replace(/^bind-(.*?)/, '$1')];\r\n          return elBindAttr;\r\n        } else {\r\n          return new Function('return ' + el.getAttribute(attr) + ';').apply(this);\r\n        }\r\n\r\n      } else {\r\n\r\n        return el.getAttribute(attr);\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  //获取、设置prop属性\r\n  prop(el, prop) {\r\n    //设置节点属性\r\n    if (utils.isObjcet(prop)) {\r\n      utils.each(prop, (_prop, key) => {\r\n\r\n        el[key] = _prop;\r\n\r\n      });\r\n\r\n      return this;\r\n\r\n    } else if (utils.isStr(prop)) { //获得节点属性\r\n\r\n      if (/^bind-\\S*/.test(prop))\r\n\r\n        return new Function('return ' + el[prop] + ';')\r\n          .apply(this);\r\n\r\n      return el[prop];\r\n\r\n    }\r\n  }\r\n\r\n  //获取、设置html\r\n  html(el, html) {\r\n    if (html === undefined) return el.innerHTML;\r\n    el.innerHTML = html;\r\n    return this;\r\n  }\r\n\r\n  //获取、设置value\r\n  val(el, val) {\r\n    if (val === undefined) return el.value;\r\n    el.value = val;\r\n    return this;\r\n  }\r\n\r\n  //获取、设置textContent\r\n  text(el, text) {\r\n    if (text === undefined) return el.textContent;\r\n    el.textContent = text;\r\n    return this;\r\n  }\r\n\r\n  //查找符合的一个父级节点\r\n  parent(el, hasClassName) {\r\n\r\n    var parent = el.parentNode;\r\n\r\n    if (parent === document || parent === null) return null;\r\n\r\n    if (!hasClassName) return parent;\r\n\r\n    if (this.hasClass(parent, hasClassName)) return parent;\r\n\r\n    return this.parent(parent, hasClassName);\r\n\r\n  }\r\n\r\n  //超找所有符合的父元素\r\n  parents(el, hasClassName, hasClassParent) {\r\n\r\n    var parent = el.parentNode;\r\n\r\n    hasClassParent = (hasClassParent ? hasClassParent : []);\r\n\r\n    if (parent === document || parent === null) return null;\r\n\r\n    if (this.hasClass(parent, hasClassName)) hasClassParent.push(parent);\r\n\r\n    this.parents(parent, hasClassName, hasClassParent);\r\n\r\n    return hasClassParent;\r\n  }\r\n\r\n  //获取直接的当个子节点\r\n  children(el) {\r\n    const els = [];\r\n    utils.each(el.childNodes, (child) => {\r\n      if (child.nodeType === 1) {\r\n        els.push(child);\r\n      }\r\n    });\r\n    return els;\r\n  };\r\n\r\n  //查找对应的class存在的节点\r\n  childrens(el, className, hasClassChild) {\r\n    var i = 0;\r\n    hasClassChild = (hasClassChild ? hasClassChild : []);\r\n    for (; i < el.children.length; i++) {\r\n      if (this.hasClass(el.children[i], className)) hasClassChild.push(el.children[i]);\r\n      this.childrens(el.children[i], className, hasClassChild);\r\n    }\r\n    return hasClassChild;\r\n  }\r\n\r\n  //下一个节点\r\n  next(el) {\r\n    const nextEl = el.nextSibling;\r\n    if (nextEl === null) return null;\r\n    if (nextEl.nodeType !== 1) return this.next(nextEl);\r\n    return nextEl;\r\n  }\r\n\r\n  //获取当前元素同级前的节点\r\n  nextAll(el) {\r\n    return this.siblings(el, 'nextAll');\r\n  }\r\n\r\n  //获取当前元素同级后的节点\r\n  prevAll(el) {\r\n    return this.siblings(el, 'prevAll');\r\n  }\r\n\r\n  //上一个节点\r\n  prev(el) {\r\n    const prevEl = el.previousSibling;\r\n    if (prevEl === null) return null;\r\n    if (prevEl.nodeType !== 1) return this.prev(prevEl);\r\n    return prevEl;\r\n  }\r\n\r\n  //获取同级的兄弟节点\r\n  siblings(el, type) {\r\n    const parent = this.parent(el);\r\n\r\n    if (parent === null) return null;\r\n\r\n    const child = parent.children;\r\n\r\n    const siblings = [];\r\n\r\n    let i = 0;\r\n\r\n    if (type === 'nextAll')\r\n      i = Array.prototype.indexOf.call(child, el);\r\n\r\n    for (; i < child.length; i++) {\r\n\r\n      if (child[i] !== el) siblings.push(child[i]);\r\n\r\n      if (type === 'prevAll' && child[i] === el) return siblings;\r\n\r\n    }\r\n\r\n    return siblings;\r\n  }\r\n\r\n  //显示\r\n  hide(el, time) {\r\n\r\n    var opacity = this.css(el, 'opacity');\r\n\r\n    el.opacity = opacity ? opacity : 1;\r\n\r\n    utils.isNum(time) ? (this.animate(el, {\r\n      opacity: 0\r\n    }, time, () => {\r\n      el.style.display = 'none';\r\n    })) : el.style.display = 'none';\r\n\r\n    return this;\r\n  }\r\n\r\n  //隐藏\r\n  show(el, time) {\r\n\r\n    var opactiy = el.opactiy ? el.opactiy : 100;\r\n\r\n    if (utils.isNum(time)) {\r\n\r\n      this.css(el, {\r\n        opacity: 0\r\n      });\r\n\r\n      el.style.display = '';\r\n\r\n      this.animate(el, {\r\n        opacity: opactiy\r\n      }, time);\r\n\r\n    } else {\r\n      el.style.display = '';\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /*切换显示状态*/\r\n  toggle(el, time) {\r\n    if (el.style.display === '') this.hide(el, time);\r\n    else this.show(el, time);\r\n  }\r\n\r\n  /*动画*/\r\n  animate(el, animate, time, cb) {\r\n\r\n    if (!el) return;\r\n\r\n    el.timer = setInterval(() => {\r\n\r\n      let animateStatus = true;\r\n\r\n      utils.each(animate, (val, type) => {\r\n\r\n        let speed = 0,\r\n          cssVal = 0;\r\n\r\n        if (type === 'opacity') {\r\n\r\n          cssVal = Number(this.css(el, 'opacity')) * 100;\r\n\r\n        } else if (type === 'scrollTop') {\r\n\r\n          cssVal = Math.ceil(document.documentElement.scrollTop || document.body.scrollTop);\r\n\r\n          let maxScrollTop = Math.ceil(document.body.scrollHeight - window.innerHeight);\r\n\r\n          if (val > maxScrollTop) {\r\n            val = maxScrollTop;\r\n            animate['scrollTop'] = maxScrollTop;\r\n          }\r\n\r\n        } else {\r\n          cssVal = parseInt(this.css(el, type));\r\n        }\r\n\r\n        speed = (val - cssVal) / 8;\r\n\r\n        speed = speed > 0 ? Math.ceil(speed) : Math.floor(speed);\r\n\r\n        const setVal = {};\r\n\r\n        if (type === 'opacity') {\r\n          setVal['opacity'] = (cssVal + speed) / 100;\r\n          this.css(el, setVal);\r\n        } else if (type === 'scrollTop') {\r\n          this.setScrollTop(cssVal + speed);\r\n        } else {\r\n          setVal[type] = cssVal + speed + 'px';\r\n          this.css(el, setVal);\r\n        }\r\n\r\n        if (parseInt(val) !== cssVal) {\r\n          animateStatus = false;\r\n        }\r\n      });\r\n\r\n      if (animateStatus) {\r\n        clearInterval(el.timer);\r\n        utils.hook(this, cb);\r\n      }\r\n\r\n    }, time / 60);\r\n  }\r\n\r\n  /*操作css*/\r\n  css(el, css) {\r\n    //获取css\r\n    if (utils.isStr(css)) {\r\n      return this.curCss(el, css);\r\n    } else if (utils.isObjcet(css)) {\r\n      //设置style\r\n      this.setStyle(el, css);\r\n      return this;\r\n    }\r\n  }\r\n\r\n  /*处理驼峰和非驼峰*/\r\n  camelCase(text, isCameCase) {\r\n    let camelCases;\r\n\r\n    const AZ = /[A-Z]/g,\r\n      _AZ = /-[a-z]/g;\r\n\r\n    if (!utils.isStr(text)) return text;\r\n\r\n    camelCases = isCameCase ? text.match(_AZ) : text.match(AZ);\r\n\r\n    camelCases = camelCases ? camelCases : [];\r\n\r\n    utils.each(camelCases, (str) => {\r\n      if (isCameCase) text = text.replace(str, str.replace(/-/g, '')\r\n        .toUpperCase());\r\n      else text = text.replace(str, '-' + str.toLowerCase());\r\n    });\r\n\r\n    return text;\r\n  }\r\n\r\n  /*获取计算好的值*/\r\n  curCss(el, css) {\r\n\r\n    let _css;\r\n\r\n    if (window.getComputedStyle) {\r\n\r\n      _css = this.camelCase(css, true);\r\n\r\n      return window.getComputedStyle(el, null)[_css];\r\n\r\n    } else if (document.documentElement.currentStyle) {\r\n\r\n      _css = this.camelCase(css, false);\r\n\r\n      return document.documentElement.currentStyle[_css];\r\n\r\n    }\r\n  }\r\n\r\n  /*设置css*/\r\n  setStyle(el, css) {\r\n\r\n    utils.each(css, (style, cssName) => {\r\n\r\n      el.style[cssName] = style;\r\n\r\n    });\r\n  }\r\n\r\n  /*删除节点*/\r\n  remove(el) {\r\n    try {\r\n      el.remove();\r\n    } catch (e) {\r\n      const parent = this.parent(el);\r\n      parent !== null ? parent.removeChild(el) : (console.warn('element remove error!'));\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /*创建元素*/\r\n  create(dom) {\r\n\r\n    const fragment = document.createDocumentFragment();\r\n\r\n    const tempEl = document.createElement('div');\r\n\r\n    tempEl.innerHTML = dom;\r\n\r\n    while (tempEl.childNodes.length !== 0) {\r\n\r\n      let child = tempEl.childNodes[0];\r\n\r\n      const childHtml = child.innerHTML;\r\n\r\n      if (child.tagName === 'SCRIPT') {\r\n\r\n        const newScript = document.createElement('script');\r\n\r\n        newScript.innerHTML = childHtml;\r\n\r\n        utils.each(child.attributes, (attr) => {\r\n\r\n          if (!attr) true;\r\n\r\n          newScript.setAttribute(attr.name, attr.value);\r\n\r\n        });\r\n\r\n        this.remove(child);\r\n\r\n        child = newScript;\r\n\r\n      }\r\n\r\n      fragment.appendChild(child);\r\n\r\n    }\r\n\r\n    return fragment;\r\n  }\r\n\r\n  /*插入节点*/\r\n  append(el, child) {\r\n\r\n    if (el.nodeType === 1) el.appendChild(child);\r\n\r\n    else this.getEl(el)\r\n      .appendChild(child);\r\n\r\n    return this;\r\n  }\r\n\r\n  //取消冒泡\r\n  preventDefault(event) {\r\n\r\n    const ev = event || window.event;\r\n\r\n    ev.stopPropagation();\r\n\r\n    ev.cancelBubble = true;\r\n\r\n  }\r\n\r\n  //offset\r\n  offset(el) {\r\n\r\n    const box = el.getBoundingClientRect(),\r\n\r\n      docElem = document.documentElement,\r\n\r\n      body = document.body,\r\n\r\n      win = window,\r\n\r\n      clientTop = docElem.clientTop || body.clientTop || 0,\r\n\r\n      clientLeft = docElem.clientLeft || body.clientLeft || 0,\r\n\r\n      scrollTop = win.pageYOffset || docElem.scrollTop,\r\n\r\n      scrollLeft = win.pageXOffset || docElem.scrollLeft;\r\n\r\n    return {\r\n      top: box.top + scrollTop - clientTop,\r\n      left: box.left + scrollLeft - clientLeft\r\n    };\r\n  }\r\n\r\n  /*设置滚动条高度*/\r\n  setScrollTop(top, animate) {\r\n\r\n    document.body.scrollTop = top;\r\n\r\n    document.documentElement.scrollTop = top;\r\n\r\n  }\r\n}\r\n\r\nexport default Dom;\n\n\n// WEBPACK FOOTER //\n// ./src/core/instance/dom.js","/*配置信息*/\r\nconst options = {\r\n  config:{\r\n    open_tag: \"<%\", //OPEN_TAG\r\n    close_tag: \"%>\", //CLOSE_TAG\r\n  },\r\n  template: \"\",\r\n  data: {},\r\n  methods: {}\r\n};\r\n\r\nexport default options;\n\n\n// WEBPACK FOOTER //\n// ./src/core/options.js","// html转义\r\nconst escapeCode = {\r\n  \"&\": \"&amp;\",\r\n  \"<\": \"&lt;\",\r\n  \">\": \"&gt;\",\r\n  '\"': \"&quot;\",\r\n  \"'\": \"&#x27;\",\r\n  \"`\": \"&#x60;\"\r\n};\r\n\r\nexport default escapeCode;\n\n\n// WEBPACK FOOTER //\n// ./src/core/compile/escape-code.js","//常用的类方法\r\nimport utils from '../../utils';\r\n\r\nexport function setAlias(paths, key = '') {\r\n\r\n  if (!utils.isObjcet(paths)) return;\r\n\r\n  utils.each(paths, (path, _key) => {\r\n\r\n    if (!path) return;\r\n\r\n    const __key = key ? key + '.' + _key : _key;\r\n\r\n    if (utils.isObjcet(path)) {\r\n      setAlias.apply(this, [path, __key]);\r\n    } else {\r\n      this.alias[__key] = path;\r\n    }\r\n\r\n  });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/core/alias/index.js","import utils from '../../utils';\r\n\r\nconst bindName = 'bind-';\r\n\r\nconst regBindName = /^bind-(.*?)/g;\r\n\r\n//数据绑定相关\r\nclass Bind {\r\n\r\n  constructor(opts = { tmpl: {} }) {\r\n    this.tmpl = opts.tmpl;\r\n  }\r\n\r\n  get(el, bindName) {\r\n    if (!utils.isEl(el)) return false;\r\n    return el.bind[bindName];\r\n  }\r\n\r\n  set(el, bind) {\r\n    if (!utils.isEl(el) || !utils.isPlainObject(bind)) return false;\r\n    utils.each(bind, (_bind, key) => {\r\n      el.bind[key] = _bind;\r\n    });\r\n  }\r\n\r\n  setTmpl(tmpl){\r\n    this.tmpl = tmpl;\r\n  }\r\n\r\n  update(el) {\r\n    const bindElms = el.querySelectorAll('*');\r\n    [].forEach.call(bindElms, (bindElm) => {\r\n      if (!bindElm.bind) bindElm.bind = {};\r\n      [].forEach.call(bindElm.attributes, (attr) => {\r\n        const name = attr.name;\r\n        if (regBindName.test(name)) {\r\n          const attrVal = new Function(`with(this){return ${attr.value}}`).call(this.tmpl);\r\n          bindElm.bind[name.replace(regBindName, '$1')] = attrVal;\r\n          bindElm.removeAttribute(name);\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n\r\nconst bind = new Bind();\r\n\r\nexport default bind;\n\n\n// WEBPACK FOOTER //\n// ./src/core/instance/bind.js"],"sourceRoot":""}